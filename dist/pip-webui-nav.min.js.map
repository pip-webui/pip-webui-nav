{"version":3,"sources":["actions/primary_actions.html","actions/secondary_actions.html","appbar/appbar.html","breadcrumb/breadcrumb.html","dropdown/dropdown.html","language_picker/language_picker.html","nav_header/nav_header.html","nav_icon/nav_icon.html","nav_menu/nav_menu.html","search_bar/search_bar.html","sidenav/sidenav.html","sticky_nav_header/sticky_nav_header.html","sticky_nav_menu/sticky_nav_menu.html","sticky_sidenav/sticky_sidenav.html","tabs/tabs.html","nav.ts","nav_service.ts","actions/actions_service.ts","actions/primary_actions.ts","actions/secondary_actions.ts","appbar/appbar.ts","appbar/appbar_part.ts","appbar/appbar_service.ts","breadcrumb/breadcrumb.ts","breadcrumb/breadcrumb_service.ts","dependencies/translate.ts","dropdown/dropdown.ts","language_picker/language_picker.ts","nav_header/nav_header.ts","nav_icon/nav_icon.ts","nav_icon/nav_icon_service.ts","nav_menu/nav_menu.ts","nav_services/nav_header_service.ts","nav_services/nav_menu_service.ts","nav_services/sidenav_part.ts","nav_services/sidenav_service.ts","search_bar/search_bar.ts","search_bar/search_service.ts","sidenav/sidenav.ts","sticky_nav_header/sticky_nav_header.ts","sticky_nav_menu/sticky_nav_menu.ts","sticky_sidenav/sticky_sidenav.ts","tabs/tabs.ts"],"names":["module","angular","e","run","$templateCache","put","pip","nav","NavService","$injector","this","appBar","has","get","navIcon","breadcrumb","actions","search","sideNav","navHeader","navMenu","$inject","service","thisModule","provider","globalActions","primaryActions","secondaryActions","config","primaryGlobalActions","secondaryGlobalActions","globalPrimaryActions","globalSecondaryActions","primaryLocalActions","secondaryLocalActions","$get","$rootScope","getConfig","hideLocalActions","sendConfigEvent","showLocalActions","updateActionCount","actionName","count","action","name","$broadcast","show","hide","directive","restrict","localActions","replace","element","attr","controller","$scope","$element","$attrs","$window","$location","pipActions","onActionsChanged","event","actionHidden","access","actionCount","onActionClick","$mdOpenMenu","divider","close","originatorEv","menu","callback","href","location","url","state","$state","go","stateParams","addClass","$on","title","showMenu","partyAvatarUrl","openMenu","ev","calcActions","secondaryActionsVisible","secondaryDividerVisible","transclude","scope","templateUrl","pipAppBar","onAppBarChanged","$emit","ngIfDirective","ngIf","priority","terminal","visible","link","apply","arguments","parts","currentPartValue","partName","partValue","pipAppbarPart","pos","indexOf","substr","theme","initParts","_","isObject","cssClass","ngClasses","showAppBar","newCssClass","undefined","hideAppBar","showShadowSm","showShadowSmXs","showShadow","hideShadow","getOrSetPart","value","isString","Error","getOrSetParts","isEqual","part","breadcrumbDirective","BreadcrumbController","controllerAs","pipBreadcrumb","_rootScope","_window","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbBackEvent","onBreadcrumbBack","prototype","items","isArray","length","backCallback","click","isFunction","history","back","onBreadcrumbClick","item","onSearchOpen","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","_config","enumerable","configurable","text","criteria","sendEvent","BreadcrumbProvider","set","_service","filter","pipTranslate","key","translate","$mdMedia","ngDisabled","showDropdown","activeIndex","select","localStorageService","class","onSelect","index","languagePickerDirective","languages","LanguagePickerController","$timeout","_timeout","_translate","setLanguages","defineProperty","lang","onLanguageClick","language","_this","subtitle","imageUrl","imageCss","pipNavHeader","setImageMarginCSS","container","image","cssParams","containerWidth","width","clientWidth","containerHeight","height","clientHeight","imageWidth","naturalWidth","imageHeight","naturalHeight","margin","css","onIdentityChanged","defaultImageUrl","console","log","$image","imageBlock","onUserClick","find","load","$event","$","target","type","pipNavIcon","onNavIconChanged","onNavIconClick","clear","setMenu","callbackOrEvent","setIcon","iconName","setBack","setImage","icon","showIcon","showBack","showImage","pipSideNav","pipNavMenu","itemVisible","isSectionEmpty","linkCollection","each","result","onConfigChanged","onLinkClick","stopPropagation","split","current","setOrGetIcon","sectionIcon","setOrGetCollapsed","collapsed","init","newConfig","sections","$mdSidenav","setConfig","setCounter","linkTitle","counter","isNumber","section","menuItem","s","links","onSideNavChanged","pipSidenavPart","id","sideNavId","open","toggle","getOrSetId","setTranslations","APPBAR_SEARCH","pipSearch","onSearchBarChanged","searchEnabled","focusSearchText","focus","onSearchEnable","onSearchClick","searchText","onSearchClear","onSearchKeyDown","keyCode","setSearch","clearSearch","updateCriteria","updateHistory","resizeImage","setCollapsible","collapsibled","onExpand","expanded","pipSdeNavElement","removeClass","isCollapsed","parent","defaultIicon","onNavToggle","tabs","showTabs","showTabsShadow","translateObjects","disabled","tabDisabled","activeTab"],"mappings":"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","file":"pip-webui-nav.min.js","sourcesContent":["<md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryLocalActions\">\r\n    <md-button class=\"pip-primary-actions-action md-icon-button\"\r\n                ng-class=\"{ 'pip-primary-actions-hide-sm': action.hideSmall,\r\n                            'pip-primary-actions-show-sm': action.showSmall }\"\r\n                ng-click=\"onActionClick(action, $mdOpenMenu);\"\r\n                ng-hide=\"actionHidden(action)\"\r\n                aria-label=\"{{action.tooltip | translate}}\">\r\n        <!--<md-tooltip ng-if=\"action.tooltip\">{{action.tooltip | translate}}</md-tooltip>-->\r\n        <div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">\r\n            {{actionCount(action)}}\r\n        </div>\r\n        <md-icon md-svg-icon=\"{{action.icon}}\"></md-icon>\r\n    </md-button>\r\n    <md-menu-content width=\"3\" >\r\n        <md-menu-item ng-repeat-start=\"subAction in action.subActions\"\r\n                        ng-if=\"!subAction.divider\"\r\n                        ng-hide=\"actionHidden(subAction)\">\r\n            <md-button ng-hide=\"subAction.divider\"\r\n                        ng-click=\"onActionClick(subAction)\">\r\n                {{subAction.title | translate}}\r\n            </md-button>\r\n        </md-menu-item>\r\n        <md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end></md-menu-divider>\r\n    </md-menu-content>\r\n</md-menu>\r\n\r\n<md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryGlobalActions\">\r\n    <md-button class=\"pip-primary-actions-action md-icon-button\"\r\n               ng-class=\"{ 'pip-primary-actions-hide-sm': action.hideSmall,\r\n                            'pip-primary-actions-show-sm': action.showSmall }\"\r\n               ng-click=\"onActionClick(action, $mdOpenMenu);\"\r\n               ng-hide=\"actionHidden(action)\"\r\n               aria-label=\"{{action.tooltip | translate}}\">\r\n        <!--<md-tooltip ng-if=\"action.tooltip\">{{action.tooltip | translate}}</md-tooltip>-->\r\n        <div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">\r\n            {{actionCount(action)}}\r\n        </div>\r\n        <md-icon md-svg-icon=\"{{action.icon}}\"></md-icon>\r\n    </md-button>\r\n    <md-menu-content width=\"3\" >\r\n        <md-menu-item ng-repeat-start=\"subAction in action.subActions\"\r\n                      ng-if=\"!subAction.divider\"\r\n                      ng-hide=\"actionHidden(subAction)\">\r\n            <md-button ng-hide=\"subAction.divider\"\r\n                       ng-click=\"onActionClick(subAction)\">\r\n                {{subAction.title | translate}}\r\n            </md-button>\r\n        </md-menu-item>\r\n        <md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end></md-menu-divider>\r\n    </md-menu-content>\r\n</md-menu>\r\n","<md-menu ng-if=\"secondaryActionsVisible()\"\r\n    md-position-mode=\"target-right target\">\r\n    <md-button class=\"md-icon-button\"\r\n        ng-click=\"onSecondaryActionClick(); openMenu($mdOpenMenu, $event);\"\r\n        aria-label=\"open actions\">\r\n        <md-icon md-svg-icon=\"icons:vdots\"></md-icon>\r\n    </md-button>\r\n    <md-menu-content width=\"3\">\r\n        <!-- Local secondary actions -->\r\n        <md-menu-item ng-repeat-start=\"action in config.secondaryLocalActions\"\r\n            ng-if=\"!action.divider\"\r\n            ng-hide=\"actionHidden(action)\">\r\n            <md-button ng-hide=\"action.divider\"\r\n                ng-click=\"onActionClick(action)\">\r\n                {{action.title | translate}}\r\n            </md-button>\r\n        </md-menu-item>\r\n        <md-menu-divider ng-if=\"action.divider\" ng-repeat-end></md-menu-divider>\r\n\r\n        <md-menu-divider ng-if=\"secondaryDividerVisible()\" >\r\n\r\n        </md-menu-divider>\r\n        <!-- Global secondary actions -->\r\n        <md-menu-item ng-repeat-start=\"action in config.secondaryGlobalActions\"\r\n            ng-if=\"!action.divider\"\r\n            ng-hide=\"actionHidden(action)\">\r\n            <md-button ng-hide=\"action.divider\"\r\n                ng-click=\"onActionClick(action)\">\r\n                {{action.title | translate}}\r\n            </md-button>                    \r\n        </md-menu-item>\r\n        <md-menu-divider ng-if=\"action.divider\" ng-repeat-end>\r\n        </md-menu-divider>                        \r\n    </md-menu-content>\r\n</md-menu>\r\n","<!--\r\n@file App Bar component\r\n@copyright Digital Living Software Corp. 2014-2016\r\n-->\r\n\r\n<md-toolbar md-theme-watch=\"true\" ng-if=\"!$partialReset && config.showAppBar\" ng-class=\"config.ngClasses\"\r\n            class=\"{{ config.cssClass }}\" ng-transclude>\r\n</md-toolbar>\r\n","<div>\r\n    <div class=\"hide-xs text-overflow\">\r\n        <!-- Search criteria -->\r\n        <span ng-if=\"vm.config.criteria\"\r\n            ng-click=\"vm.onSearchOpen()\">{{vm.config.criteria}} -</span>\r\n        <!-- Breadcrumb navigation -->\r\n        <span class=\"pip-breadcrumb-item\"\r\n            ng-if=\"vm.config.items && vm.config.items.length > 0\"\r\n            ng-repeat-start=\"item in vm.config.items\"\r\n            ng-click=\"vm.onBreadcrumbClick(item)\"\r\n            ng-init=\"stepWidth = 100/(vm.config.items.length + 1)\"\r\n            ng-class=\"{'cursor-pointer': !$last}\"\r\n            ng-style=\"{'max-width': stepWidth + '%'}\">\r\n            {{item.title | translate}}\r\n        </span>\r\n        <md-icon ng-repeat-end md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon>\r\n        <!-- Text title -->\r\n        <span class=\"pip-title\" ng-if=\"vm.config.text\">{{vm.config.text | translate}}</span>\r\n    </div>\r\n\r\n    <!-- Mobile breadcrumb dropdown -->\r\n    <md-menu xmd-offset=\"0 48\" class=\"hide-gt-xs\">\r\n        <span class=\"pip-mobile-breadcrumb layout-row\"\r\n            ng-click=\"$mdOpenMenu()\"\r\n            md-ink-ripple\r\n            aria-label=\"open breadcrumb\">\r\n            <span class=\"text-overflow\">\r\n                <!-- Search criteria -->\r\n                <span ng-if=\"vm.config.criteria\"\r\n                    ng-click=\"vm.onSearchOpen()\">{{vm.config.criteria}} -</span>\r\n                <span ng-if=\"vm.config.text\">    \r\n                    {{vm.config.text | translate}}\r\n                </span>   \r\n                <span ng-if=\"vm.config.items && vm.config.items.length > 0\">    \r\n                    {{vm.config.items[vm.config.items.length - 1].title | translate}}\r\n                </span>                   \r\n            </span>\r\n            <md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon>\r\n        </span>\r\n        <md-menu-content width=\"3\">\r\n            <md-menu-item  ng-repeat=\"item in vm.config.items\" ng-if=\"vm.config.items && vm.config.items.length > 0\">\r\n                <md-button ng-click=\"vm.onBreadcrumbClick(item)\"><span>{{item.title | translate}}</span></md-button>\r\n            </md-menu-item>\r\n            <md-menu-item  ng-if=\"vm.config.text\">\r\n                <md-button><span class=\"text-grey\">{{vm.config.text | translate}}</span></md-button>\r\n            </md-menu-item>\r\n        </md-menu-content>\r\n    </md-menu>\r\n\r\n</div>\r\n","<md-toolbar class=\"md-subhead color-primary-bg {{class}}\" ng-if=\"show()\" ng-class=\"{'md-whiteframe-3dp': $mdMedia('xs')}\">\r\n    <div class=\"pip-divider\"></div>\r\n        <md-select ng-model=\"selectedIndex\" ng-disabled=\"disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple md-on-close=\"onSelect(selectedIndex)\">\r\n            <md-option ng-repeat=\"action in actions\" value=\"{{ ::$index }}\" ng-selected=\"activeIndex == $index ? true : false\">\r\n                {{ (action.title || action.name) | translate }}\r\n            </md-option>\r\n        </md-select>\r\n</md-toolbar>","<md-menu md-position-mode=\"target-right target\">\r\n    <span class=\"pip-language\"\r\n        ng-click=\"$mdOpenMenu()\"\r\n        aria-label=\"language selection\">\r\n        {{vm.language | translate}}\r\n        <md-icon md-svg-icon=\"icons:triangle-down\"></md-icon>\r\n    </span>\r\n    <md-menu-content width=\"3\">\r\n        <md-menu-item ng-repeat=\"language in vm.languages\">\r\n            <md-button ng-click=\"vm.onLanguageClick(lang)\">{{language | translate}}</md-button>\r\n        </md-menu-item>\r\n    </md-menu-content>\r\n</md-menu>\r\n","<md-toolbar md-theme=\"{{ $theme }}\" ng-hide=\"!title\" class=\"layout-row layout-align-start-center\">\r\n\r\n    <md-button class=\"pip-nav-header-user md-icon-button\"\r\n                ng-click=\"onUserClick()\"\r\n                aria-label=\"current user\">\r\n\r\n        <img  src=\"\" class=\"pip-nav-header-user-image\" ng-class=\"imageCss\"></img>\r\n    </md-button>\r\n    \r\n    <div class=\"pip-nav-header-user-text\">\r\n        <a class=\"pip-nav-header-user-pri\"\r\n            ng-click=\"onUserClick()\">\r\n            {{ title }}\r\n        </a>\r\n        <div class=\"pip-nav-header-user-sec\">\r\n            {{ subtitle | translate }}\r\n        </div>\r\n    </div>\r\n\r\n</md-toolbar>\r\n","<md-button class=\"md-icon-button pip-nav-icon\"\r\n            ng-if=\"config.type != 'none'\"\r\n            ng-class=\"config.class\"\r\n            ng-click=\"onNavIconClick()\"\r\n            aria-label=\"menu\">\r\n    <!-- Menu icon -->\r\n    <md-icon ng-if=\"config.type=='menu'\"\r\n        md-svg-icon=\"icons:menu\"></md-icon>\r\n    <!-- Image -->\r\n    <img ng-src=\"{{config.imageUrl}}\" ng-if=\"config.type=='image'\" height=\"24\" width=\"24\">\r\n    <!--<pip-avatar ng-if=\"config.navIconType=='menu' && (getParty() && !getUser('owner'))\"\r\n                pip-rebind-avatar=\"true\"\r\n                pip-rebind=\"true\"\r\n                pip-image-url=\"partyAvatarUrl\"\r\n                pip-party-id=\"getParty('id')\" class=\"pip-face\"\r\n                pip-party-name=\"getParty('name')\">\r\n    </pip-avatar>-->\r\n    <!-- Back icon -->\r\n    <md-icon ng-if=\"config.type=='back'\"\r\n        md-svg-icon=\"icons:arrow-left\"></md-icon>\r\n    <!--Icon -->\r\n    <md-icon ng-if=\"config.type=='icon'\"\r\n             md-svg-icon=\"icons:{{config.iconName}}\"></md-icon>\r\n</md-button>\r\n","<md-list>\r\n    <div class=\"pip-section\" ng-repeat=\"section in config\"\r\n        ng-hide=\"section.access && !section.access(section)\">\r\n        \r\n        <md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider>\r\n        <md-subheader ng-show=\"section.title\">{{::section.title | translate}}</md-subheader>\r\n        \r\n        <md-list-item class=\"pip-focusable no-border\" \r\n            ng-repeat=\"link in section.links\"\r\n            ng-click=\"onLinkClick($event, link)\"\r\n            ng-hide=\"link.access && !link.access(link)\">\r\n            <md-icon md-svg-icon=\"{{link.icon}}\" \r\n                ng-hide=\"!link.icon\" \r\n                class=\"tm0 bm0\"></md-icon>\r\n            <p>{{::link.title | translate}}</p>\r\n        </md-list-item>\r\n    </div>\r\n</md-list>\r\n","<div class=\"md-toolbar-tools layout-row\" ng-if=\"searchEnabled\">\r\n    <md-button class=\"md-icon-button\" \r\n        aria-label=\"start search\" \r\n        ng-click=\"onSearchClick()\">\r\n        <md-icon md-svg-icon=\"icons:search\"></md-icon>\r\n    </md-button>\r\n    <input class=\"pip-search-text flex\"\r\n        type=\"search\"\r\n        ng-model=\"search.text\" \r\n        ng-keydown=\"onSearchKeyDown($event)\" />\r\n    <md-button class=\"md-icon-button\" \r\n        aria-label=\"clear search\" \r\n        ng-click=\"onSearchClear()\">\r\n        <md-icon md-svg-icon=\"icons:cross-circle\"></md-icon>\r\n    </md-button>\r\n</div>\r\n<div class=\"md-toolbar-tools layout-row layout-align-end-center\"  ng-if=\"!searchEnabled\">\r\n    <md-button class=\"md-icon-button\"\r\n               aria-label=\"start search\"\r\n               ng-click=\"onSearchEnable()\">\r\n        <md-icon md-svg-icon=\"icons:search\"></md-icon>\r\n    </md-button>\r\n</div>\r\n","<!--\r\n@file Side Nav component\r\n@copyright Digital Living Software Corp. 2014-2016\r\n-->\r\n\r\n<md-sidenav class=\"md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg\"\r\n    md-component-id=\"pip-sidenav\" ng-if=\"!$partialReset\" pip-focused ng-transclude>\r\n</md-sidenav>\r\n","<md-toolbar md-theme=\"{{ $theme }}\" ng-hide=\"!title\" class=\"layout-row layout-align-start-center\">\r\n\r\n    <md-button class=\"pip-sticky-nav-header-user md-icon-button flex-fixed\"\r\n                ng-click=\"onUserClick()\"\r\n                aria-label=\"current user\">\r\n\r\n        <img  src=\"\" class=\"pip-sticky-nav-header-user-image flex-fixed\" ng-class=\"imageCss\"></img>\r\n    </md-button>\r\n    \r\n    <div class=\"pip-sticky-nav-header-user-text\">\r\n        <a class=\"pip-sticky-nav-header-user-pri\"\r\n            ng-click=\"onUserClick()\">\r\n            {{ title }}\r\n        </a>\r\n        <div class=\"pip-sticky-nav-header-user-sec\">\r\n            {{ subtitle | translate }}\r\n        </div>\r\n    </div>\r\n\r\n</md-toolbar>\r\n","<md-list>\r\n    <md-list-item class=\"pip-focusable no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"onExpand()\">\r\n        <md-icon md-svg-icon=\"icons:chevron-left\" ng-if=\"expanded\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\r\n        <md-icon md-svg-icon=\"icons:chevron-right\" ng-if=\"!expanded\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\r\n    </md-list-item>    \r\n    <div class=\"pip-section\" ng-repeat=\"section in config\"\r\n        ng-hide=\"section.access && !section.access(section)\">\r\n\r\n        <md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider>\r\n        <md-subheader ng-show=\"section.title\" style=\"height: 48px;\">\r\n             <!--|| !expanded && section.icon-->\r\n            <span ng-if=\"expanded\">\r\n                {{::section.title | translate}}\r\n            </span>\r\n            <md-icon md-svg-icon=\"{{section.icon}}\" ng-if=\"!expanded && section.icon\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\r\n            <md-icon md-svg-icon=\"{{defaultIicon}}\" ng-if=\"!expanded && !section.icon\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\r\n        </md-subheader>\r\n        \r\n        <md-list-item class=\"pip-focusable no-border pip-sticky-nav-menu-item\" \r\n            ng-repeat=\"link in section.links\"\r\n            ng-click=\"onLinkClick($event, link)\"\r\n            ng-hide=\"link.access && !link.access(link)\">\r\n            <md-icon md-svg-icon=\"{{link.icon}}\" \r\n                ng-hide=\"!link.icon\" \r\n                class=\"pip-sticky-nav-menu-icon\"></md-icon>\r\n            <p class=\"pip-sticky-nav-menu-title\">{{::link.title | translate}}</p>\r\n            <div class=\"flex pip-sticky-nav-menu-expander\"></div>\r\n            <div class=\"pip-sticky-nav-menu-badge color-badge-bg flex-fixed\" ng-if=\"link.count\">\r\n                 {{link.count}} \r\n            </div>\r\n        </md-list-item>\r\n    </div>\r\n</md-list>\r\n","<!--\r\n@file Sticky Side Nav component\r\n@copyright Digital Living Software Corp. 2014-2016\r\n-->\r\n\r\n<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$mdMedia('gt-xs')\" \r\n    md-component-id=\"pip-sticky-sidenav\" ng-if=\"!$partialReset\" pip-focused ng-transclude>\r\n</md-sidenav>\r\n\r\n","<md-toolbar class=\"pip-nav {{ class }}\" ng-class=\"{'pip-visible': show(), 'pip-shadow': showShadow()}\">\r\n    <md-tabs ng-if=\"$mdMedia('gt-xs')\" md-selected=\"activeTab\" ng-class=\"{'disabled': disabled()}\"\r\n             md-stretch-tabs=\"true\" md-dynamic-height=\"true\">\r\n        <md-tab ng-repeat=\"tab in tabs track by $index\" ng-disabled=\"tabDisabled($index)\"\r\n                md-on-select=\"onSelect($index)\">\r\n            <md-tab-label>\r\n                {{::tab.nameLocal }}\r\n                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">\r\n                    {{::tab.newCounts }}\r\n                </div>\r\n                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div>\r\n            </md-tab-label>\r\n        </md-tab>\r\n    </md-tabs>\r\n    <div class=\"md-subhead pip-tabs-content color-primary-bg  \" ng-if=\"$mdMedia('xs')\">\r\n        <div class=\"pip-divider position-top m0\"></div>\r\n        <md-select ng-model=\"activeIndex\" ng-disabled=\"disabled()\"\r\n                   md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple\r\n                   md-on-close=\"onSelect(activeIndex)\">\r\n            <md-option ng-repeat=\"tab in tabs track by $index\" value=\"{{ ::$index }}\">\r\n                {{ ::tab.nameLocal }}\r\n                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">\r\n                    {{ ::tab.newCounts }}\r\n                </div>\r\n                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div>\r\n            </md-option>\r\n        </md-select>\r\n    </div>\r\n</md-toolbar>\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\nmodule pip.nav {\r\n    'use strict';\r\n\r\n    angular.module('pipNav', [\r\n        'pipNav.Service',\r\n\r\n        'pipDropdown',\r\n        'pipTabs',\r\n\r\n        'pipAppBar',\r\n        'pipNavIcon',\r\n        'pipBreadcrumb',\r\n        'pipPrimaryActions', \r\n        'pipSecondaryActions',\r\n        'pipSideNav',\r\n        'pipNavMenu',\r\n        'pipNavHeader',\r\n        'pipStickySideNav',\r\n        'pipStickyNavMenu',\r\n        'pipStickyNavHeader'\r\n    ]);\r\n    \r\n}\r\n\r\n\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\r\n/// <reference path=\"./breadcrumb/breadcrumb_service.ts\" />\r\n\r\nmodule pip.nav {\r\n    'use strict';\r\n\r\n    export interface INavService {\r\n        appBar: any;\r\n        navIcon: any; \r\n        breadcrumb: IBreadcrumbService;\r\n        actions: any;\r\n        search: any;\r\n        sideNav: any;\r\n        navHeader: any;\r\n        navMenu: any;   \r\n   }\r\n\r\n    class NavService implements INavService {\r\n        public constructor($injector) {\r\n            \"ngInject\";\r\n\r\n            this.appBar = $injector.has('pipAppBar') ? $injector.get('pipAppBar') : null;\r\n            this.navIcon = $injector.has('pipNavIcon') ? $injector.get('pipNavIcon') : null;\r\n            this.breadcrumb = $injector.has('pipBreadcrumb') ? $injector.get('pipBreadcrumb') : null;\r\n            this.actions = $injector.has('pipActions') ? $injector.get('pipActions') : null;\r\n            this.search = $injector.has('pipSearch') ? $injector.get('pipSearch') : null;\r\n            this.sideNav = $injector.has('pipSideNav') ? $injector.get('pipSideNav') : null;\r\n            this.navHeader = $injector.has('pipNavHeader') ? $injector.get('pipNavHeader') : null;\r\n            this.navMenu = $injector.has('pipNavMenu') ? $injector.get('pipNavMenu') : null;    \r\n        }\r\n\r\n        public appBar: any;\r\n        public navIcon: any;\r\n        public breadcrumb: IBreadcrumbService;\r\n        public actions: any;\r\n        public search: any;\r\n        public sideNav: any;        \r\n        public navHeader: any;\r\n        public navMenu: any;    \r\n    }\r\n\r\n    angular.module('pipNav.Service', [])\r\n        .service('pipNavService', NavService);\r\n\r\n}","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipActions.Service', []);\r\n\r\n    thisModule.provider('pipActions', function (): any {\r\n        var config = {\r\n            // Primary global actions visible on the screen\r\n            primaryGlobalActions: [],\r\n            // Primary local actions visible on the screen\r\n            primaryLocalActions: [],\r\n\r\n            // Secondary global actions available in popup\r\n            secondaryGlobalActions: [],\r\n            // Secondary local actions available in popup\r\n            secondaryLocalActions: []\r\n        };\r\n\r\n        // Configure global parameters\r\n        this.globalActions = globalActions;\r\n        this.globalPrimaryActions = globalPrimaryActions;\r\n        this.globalSecondaryActions = globalSecondaryActions;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                \r\n                show: showLocalActions,\r\n                hide: hideLocalActions,\r\n                count: updateActionCount,\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function getConfig() {\r\n                return config;\r\n            }\r\n\r\n            // Show actions\r\n            function hideLocalActions() {\r\n                config.primaryLocalActions = [];\r\n                config.secondaryLocalActions = [];\r\n\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showLocalActions(primaryActions, secondaryActions) {\r\n                config.primaryLocalActions = primaryActions || [];\r\n                config.secondaryLocalActions = secondaryActions || [];\r\n\r\n                sendConfigEvent();\r\n            }\r\n\r\n            // Todo: Why do we need that? it's needs for count badge \r\n            function updateActionCount(actionName, count) {\r\n                // Update global actions\r\n                _.each(config.primaryGlobalActions, function (action) {\r\n                    if (action.name === actionName) {\r\n                        action.count = count;\r\n                    }\r\n                });\r\n                // Update local action\r\n                _.each(config.primaryLocalActions, function (action) {\r\n                    if (action.name === actionName) {\r\n                        action.count = count;\r\n                    }\r\n                });\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipActionsChanged', config);\r\n            }\r\n        };\r\n\r\n        function globalActions(primaryActions, secondaryActions) {\r\n            config.primaryGlobalActions = primaryActions || [];\r\n            config.secondaryGlobalActions = secondaryActions || [];\r\n        }\r\n\r\n        function globalPrimaryActions(primaryActions) {\r\n            config.primaryGlobalActions = primaryActions || [];\r\n        }\r\n\r\n        function globalSecondaryActions(secondaryActions) {\r\n            config.secondaryGlobalActions = secondaryActions || [];\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPrimaryActions',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipActions.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipPrimaryActions', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                localActions: '=pipLocalActions',\r\n                globalActions: '=pipGlobalActions'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'actions/primary_actions.html';\r\n            },\r\n            controller: 'pipPrimaryActionsController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipPrimaryActionsController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-primary-actions');\r\n\r\n            $scope.config = pipActions.config();\r\n\r\n            if ($scope.localActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.primaryLocalActions = $scope.localActions[0];\r\n            }\r\n\r\n            if ($scope.globalActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.primaryGlobalActions = $scope.globalActions[0];\r\n            }\r\n\r\n            $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n            $scope.actionHidden = actionHidden;\r\n            $scope.actionCount = actionCount;\r\n\r\n            $scope.onActionClick = onActionClick;\r\n\r\n            function onActionsChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function actionHidden(action) {\r\n                return action.access && !action.access(action);\r\n            }\r\n\r\n            function actionCount(action) {\r\n                if (action.count === null || action.count <= 0) {\r\n                    return '';\r\n                }\r\n                if (action.count > 99) {\r\n                    return '!';\r\n                }\r\n\r\n                return action.count;\r\n            }\r\n\r\n            function calcActions(actions) {\r\n                var count = 0;\r\n\r\n                _.each(actions, function (action) {\r\n                    if (!actionHidden(action)) {\r\n                        count++;\r\n                    }\r\n                });\r\n\r\n                return count;\r\n            }\r\n\r\n            function secondaryActionsVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function secondaryDividerVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function onActionClick(action, $mdOpenMenu) {\r\n                if (!action || action.divider) {\r\n                    return;\r\n                }\r\n\r\n                if (action.close) {\r\n                    $scope.originatorEv = null;\r\n                }\r\n\r\n                if (action.menu) {\r\n                    $mdOpenMenu($scope.originatorEv);\r\n                    return;\r\n                }\r\n\r\n                if (action.callback) {\r\n                    action.callback();\r\n                    return;\r\n                }\r\n\r\n                if (action.href) {\r\n                    $window.location.href = action.href;\r\n                    return;\r\n                }\r\n\r\n                if (action.url) {\r\n                    $location.url(action.url);\r\n                    return;\r\n                }\r\n\r\n                if (action.state) {\r\n                    if ($injector.has('$state')) {\r\n                        var $state = $injector.get('$state');\r\n                        $state.go(action.state, action.stateParams);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (action.event) {\r\n                    $rootScope.$broadcast(action.event);\r\n                } else {\r\n                    // Otherwise raise notification\r\n                    $rootScope.$broadcast('pipActionClicked', action.name);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSecondaryActions',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipActions.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipSecondaryActions', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                title: '=pipTitle',\r\n                showMenu: '=pipShowMenu',\r\n                localActions: '=pipLocalActions',\r\n                globalActions: '=pipGlobalActions',\r\n                partyAvatarUrl: '=pipPartyAvatarUrl'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'actions/secondary_actions.html';\r\n            },\r\n            controller: 'pipSecondaryActionsController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSecondaryActionsController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-secondary-actions');\r\n\r\n            $scope.config = pipActions.config();\r\n\r\n            if ($scope.localActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.secondaryLocalActions = $scope.localActions[1];\r\n            }\r\n\r\n            if ($scope.globalActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.secondaryGlobalActions = $scope.globalActions[0];\r\n            }\r\n\r\n            $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n            $scope.actionHidden = actionHidden;\r\n            $scope.actionCount = actionCount;\r\n            $scope.secondaryActionsVisible = secondaryActionsVisible;\r\n            $scope.secondaryDividerVisible = secondaryDividerVisible;\r\n\r\n            $scope.onActionClick = onActionClick;\r\n\r\n            $scope.openMenu = openMenu;\r\n\r\n            function openMenu($mdOpenMenu, ev) {\r\n                $scope.originatorEv = ev;\r\n                $mdOpenMenu(ev);\r\n            }\r\n\r\n            function onActionsChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function actionHidden(action) {\r\n                return action.access && !action.access(action);\r\n            }\r\n\r\n            function actionCount(action) {\r\n                if (action.count === null || action.count <= 0) {\r\n                    return '';\r\n                }\r\n                if (action.count > 99) {\r\n                    return '!';\r\n                }\r\n\r\n                return action.count;\r\n            }\r\n\r\n            function calcActions(actions) {\r\n                var count = 0;\r\n\r\n                _.each(actions, function (action) {\r\n                    if (!actionHidden(action)) {\r\n                        count++;\r\n                    }\r\n                });\r\n\r\n                return count;\r\n            }\r\n\r\n            function secondaryActionsVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function secondaryDividerVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function onActionClick(action, $mdOpenMenu) {\r\n                if (!action || action.divider) {\r\n                    return;\r\n                }\r\n\r\n                if (action.close) {\r\n                    $scope.originatorEv = null;\r\n                }\r\n\r\n                if (action.menu) {\r\n                    $mdOpenMenu($scope.originatorEv);\r\n                    return;\r\n                }\r\n\r\n                if (action.callback) {\r\n                    action.callback();\r\n                    return;\r\n                }\r\n\r\n                if (action.href) {\r\n                    $window.location.href = action.href;\r\n                    return;\r\n                }\r\n\r\n                if (action.url) {\r\n                    $location.url(action.url);\r\n                    return;\r\n                }\r\n\r\n                if (action.state) {\r\n                    if ($injector.has('$state')) {\r\n                        var $state = $injector.get('$state');\r\n                        $state.go(action.state, action.stateParams);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (action.event) {\r\n                    $rootScope.$broadcast(action.event);\r\n                } else {\r\n                    // Otherwise raise notification\r\n                    $rootScope.$broadcast('pipActionClicked', action.name);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar',\r\n        ['ngMaterial', 'pipNav.Templates', 'pipAppBar.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipAppbar', function () {\r\n        return {\r\n            restrict: 'E',\r\n            transclude: true,\r\n            scope: true,\r\n            templateUrl: 'appbar/appbar.html',\r\n            controller: 'pipAppBarController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipAppBarController',\r\n        function ($scope, $element, $rootScope, pipAppBar) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-appbar');\r\n            $element.addClass('color-primary-bg');\r\n            \r\n            $scope.$emit('pipResizeWindow');\r\n\r\n            $scope.config = pipAppBar.config();\r\n\r\n            $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n            function onAppBarChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar.Part', ['pipAppBar.Service']);\r\n\r\n    // Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n    thisModule.directive('pipAppbarPart', function (ngIfDirective) {\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: any, $element, $attrs: any) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = function () {\r\n                    return $scope.visible;\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: 'pipAppBarPartController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipAppBarPartController',\r\n        function ($scope, $element, $attrs, $rootScope, pipAppBar) {\r\n            var partName = '' + $attrs.pipAppbarPart;\r\n            var partValue = null;\r\n\r\n            // Break part apart\r\n            var pos = partName.indexOf(':');\r\n            if (pos > 0) {\r\n                partValue = partName.substr(pos + 1);\r\n                partName = partName.substr(0, pos);\r\n            }\r\n\r\n            onAppBarChanged(null, pipAppBar.config());\r\n\r\n            $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n            function onAppBarChanged(event, config) {\r\n                var parts = config.parts || {};\r\n                var currentPartValue = parts[partName];\r\n\r\n                // Set visible variable to switch ngIf\r\n                var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\r\n\r\n                if (visible != $scope.visible)\r\n                    $scope.visible = visible;\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar.Service', []);\r\n\r\n    thisModule.provider('pipAppBar', function (): any {\r\n        var config = {\r\n            // Theme to be applied to the header\r\n            theme: 'default',\r\n            cssClass: '',\r\n            ngClasses: {},\r\n            // Parts of the appbar\r\n            parts: {},\r\n            showAppBar: true\r\n        };\r\n\r\n        // Configure global parameters\r\n        this.theme = theme;\r\n        this.parts = initParts;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                cssClass: cssClass,\r\n\r\n                part: getOrSetPart,\r\n                parts: getOrSetParts,\r\n                \r\n                show: showAppBar,\r\n                hide: hideAppBar,\r\n                showShadow: showShadow,\r\n                showShadowSm: showShadowSm,\r\n                showShadowSmXs: showShadowSmXs,\r\n                hideShadow: hideShadow\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function getConfig() {\r\n                return config;\r\n            }\r\n\r\n            // Todo: Do we need that \"hack\"?\r\n            function cssClass(newCssClass) {\r\n                if (newCssClass != undefined) {\r\n                    config.cssClass = newCssClass;\r\n                    sendConfigEvent();\r\n                }\r\n\r\n                return config.cssClass;\r\n            }\r\n\r\n            // Show, show appbar \r\n            function showAppBar() {\r\n                config.showAppBar = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            // Show, hide appbar \r\n            function hideAppBar() {\r\n                config.showAppBar = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            // Show, hide appbar shadow\r\n            function showShadowSm() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = true;\r\n                config.ngClasses['pip-shadow-xs'] = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showShadowSmXs() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = true;\r\n                config.ngClasses['pip-shadow-xs'] = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showShadow() {\r\n                config.ngClasses['pip-shadow'] = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function hideShadow() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = false;\r\n                config.ngClasses['pip-shadow-xs'] = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function getOrSetPart(name, value) {\r\n                if (!_.isString(name))\r\n                    throw new Error(\"Part name has to be a string\");\r\n\r\n                if (value != undefined) {\r\n                    if (config.parts[name] != value) {\r\n                        config.parts[name] = value;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts[name];\r\n            }\r\n\r\n            function getOrSetParts(parts) {\r\n                if (_.isObject(parts)) {\r\n                    if (!_.isEqual(config.parts, parts)) {\r\n                        config.parts = parts;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts;\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipAppBarChanged', config);\r\n            }\r\n        };\r\n\r\n        function theme(theme) {\r\n            config.theme = theme || config.theme;\r\n\r\n            return config.theme;\r\n        }\r\n\r\n        function initParts(parts) {\r\n            if (_.isObject(parts)) {\r\n                config.parts = parts;\r\n            }\r\n            return config.parts;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/// <reference path=\"./breadcrumb_service.ts\" />\r\n\r\nmodule pip.nav {\r\n\r\n    class BreadcrumbController {\r\n        private _rootScope: ng.IRootScopeService;\r\n        private _window: ng.IWindowService;\r\n        \r\n        public config: BreadcrumbConfig;\r\n\r\n        public constructor(\r\n            $scope: ng.IScope,\r\n            $element: any, \r\n            $attrs: any, \r\n            $rootScope: ng.IRootScopeService,\r\n            $window: ng.IWindowService,\r\n            $state: ng.ui.IStateService,\r\n            pipBreadcrumb: IBreadcrumbService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._rootScope = $rootScope;\r\n            this._window = $window;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-breadcrumb');\r\n\r\n            this.config = pipBreadcrumb.config;\r\n\r\n            $rootScope.$on(BreadcrumbChangedEvent, this.onBreadcrumbChanged);\r\n            $rootScope.$on(BreadcrumbBackEvent, this.onBreadcrumbBack);\r\n        }\r\n\r\n        private onBreadcrumbChanged(event, config) {\r\n            this.config = config;\r\n        }\r\n\r\n        private onBreadcrumbBack() {\r\n            let items = this.config.items;\r\n            // Go to the last breadcrumb item\r\n            if (_.isArray(items) && items.length > 0) {\r\n                let backCallback = (<any>items[items.length - 1]).click;\r\n                if (_.isFunction(backCallback)) \r\n                    backCallback();\r\n                else\r\n                    this._window.history.back();\r\n            } else\r\n                this._window.history.back();\r\n        }\r\n\r\n        public onBreadcrumbClick(item) {\r\n            if (_.isFunction(item.click))\r\n                item.click(item);\r\n        }\r\n\r\n        public onSearchOpen() {\r\n            this._rootScope.$broadcast('pipSearchOpen');\r\n        }\r\n    }\r\n\r\n    function breadcrumbDirective() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {},\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'breadcrumb/breadcrumb.html';\r\n            },\r\n            controller: BreadcrumbController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipBreadcrumb', [\r\n            'ngMaterial',\r\n            'pipNav.Templates',\r\n            'pipNav.Translate',\r\n            'pipBreadcrumb.Service'\r\n        ])\r\n        .directive('pipBreadcrumb', breadcrumbDirective);\r\n\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nmodule pip.nav {\r\n\r\n    export let BreadcrumbChangedEvent = \"pipBreadcrumbChanged\";\r\n    export let BreadcrumbBackEvent = \"pipBreadcrumbBack\";\r\n\r\n    export class BreadcrumbItem {\r\n        title: string;\r\n        click: () => void;\r\n    }\r\n\r\n    export class BreadcrumbConfig {\r\n        text: string;\r\n        items: BreadcrumbItem[];\r\n        criteria: string;\r\n    }\r\n\r\n    export interface IBreadcrumbService {\r\n        config: BreadcrumbConfig;\r\n        text: string;\r\n        items: BreadcrumbItem[];\r\n        criteria: string;\r\n    }\r\n\r\n    export interface IBreadcrumbProvider extends ng.IServiceProvider {\r\n        text: string;\r\n    }\r\n\r\n    class BreadcrumbService implements IBreadcrumbService {\r\n        private _config: BreadcrumbConfig;\r\n        private _rootScope: ng.IRootScopeService;\r\n\r\n        public constructor(\r\n            config: BreadcrumbConfig,\r\n            $rootScope: ng.IRootScopeService\r\n        ) {\r\n            this._config = config;\r\n            this._rootScope = $rootScope;\r\n        }\r\n\r\n        public get config() {\r\n            return this._config;\r\n        }\r\n\r\n        public get text(): string {\r\n            return this._config.text;\r\n        }\r\n    \r\n        public set text(value: string) {\r\n            this._config.text = value;\r\n            this._config.items = null;\r\n\r\n            this.sendEvent();\r\n        }\r\n\r\n        public get items(): BreadcrumbItem[] {\r\n            return this._config.items;\r\n        }\r\n\r\n        public set items(value: BreadcrumbItem[]) {\r\n            this._config.text = null;\r\n            this._config.items = value;\r\n\r\n            this.sendEvent();\r\n        }\r\n\r\n        public get criteria(): string {\r\n            return this._config.criteria;\r\n        }\r\n\r\n        public set criteria(value: string) {\r\n            this._config.criteria = value;\r\n            this.sendEvent();\r\n        }\r\n\r\n        public sendEvent() {\r\n            this._rootScope.$broadcast(pip.nav.BreadcrumbChangedEvent, this._config);\r\n        }\r\n    }\r\n\r\n    class BreadcrumbProvider implements IBreadcrumbProvider {\r\n        private _config: BreadcrumbConfig = { \r\n            text: null,\r\n            items: null,\r\n            criteria: null\r\n        };\r\n        private _service: IBreadcrumbService;\r\n\r\n        public get text(): string {\r\n            return this._config.text;\r\n        }\r\n\r\n        public set text(value: string) {\r\n            this._config.text = value;\r\n        }\r\n\r\n        public $get($rootScope: ng.IRootScopeService): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new BreadcrumbService(this._config, $rootScope);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipBreadcrumb.Service', [])\r\n        .provider('pipBreadcrumb', BreadcrumbProvider);\r\n\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNav.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDropdown', ['pipNav.Templates']);\r\n\r\n    thisModule.directive('pipDropdown',\r\n        function ($mdMedia) {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    actions: '=pipActions',\r\n                    showDropdown: '&pipShow',\r\n                    activeIndex: '=pipActiveIndex',\r\n                    select: '=pipDropdownSelect'\r\n                },\r\n                templateUrl: 'dropdown/dropdown.html',\r\n                controller:\r\n                    function ($scope, $element, $attrs, localStorageService) {\r\n                        // Todo: Remove dependency on local storage or make it optional\r\n                        $scope.class = ($attrs.class || '') + ' md-' + localStorageService.get('theme') + '-theme';\r\n                        //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n                        $scope.$mdMedia = $mdMedia;\r\n                        $scope.actions = ($scope.actions && _.isArray($scope.actions)) ? $scope.actions : [];\r\n                        $scope.activeIndex = $scope.activeIndex || 0;\r\n\r\n                        $scope.disabled = function () {\r\n                            if ($scope.ngDisabled()) {\r\n                                return $scope.ngDisabled();\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        };\r\n\r\n                        $scope.onSelect = function (index) {\r\n                            $scope.activeIndex = index;\r\n                            if ($scope.select) {\r\n                                $scope.select($scope.actions[index], $scope.activeIndex);\r\n                            }\r\n                        };\r\n\r\n                        $scope.show = function () {\r\n                            if ($scope.showDropdown()) {\r\n                                return $scope.showDropdown();\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        };\r\n\r\n                    }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nmodule pip.nav {\r\n    'use strict';\r\n\r\n    class LanguagePickerController {\r\n        private _translate: any;\r\n        private _timeout: ng.ITimeoutService;\r\n\r\n        public constructor(\r\n            $scope: any, \r\n            $element: any, \r\n            $attrs: any, \r\n            $rootScope: ng.IRootScopeService, \r\n            $timeout: ng.ITimeoutService,\r\n            $injector: any\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._timeout = $timeout;\r\n            this._translate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.languages = $scope.languages;\r\n\r\n            // Todo: Where is this event coming from? Why not through service or attribute?\r\n            $rootScope.$on('pipSetLanguages', this.setLanguages);\r\n        }\r\n\r\n        public languages: string[] = ['en', 'ru'];\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(lang) {\r\n            this.languages = lang.length > 0 ? lang : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language) {\r\n            if (this._translate != null) {\r\n                this._timeout(() => {\r\n                    this._translate.language = this.language;\r\n                }, 0);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function languagePickerDirective() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                languages: '=languages',\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'language_picker/language_picker.html';\r\n            },\r\n            controller: LanguagePickerController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .directive('pipLanguagePicker', languagePickerDirective);\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavHeader', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipNavHeader.Service']);\r\n\r\n    // Main application nav-header directive\r\n    thisModule.directive('pipNavHeader', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               title: '=pipTitle',\r\n               subtitle: '=pipSubTitle',\r\n               imageUrl: '=pipImage',\r\n               imageCss: '=pipImageCss'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'nav_header/nav_header.html',\r\n           controller: 'pipNavHeaderController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipNavHeaderController', \r\n        function ($scope, $element, $rootScope, $timeout, pipNavHeader) {\r\n           \r\n            var \r\n                image = null, \r\n                imageBlock = $element.find('.pip-nav-header-user'),\r\n                $image;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-header');\r\n\r\n            $rootScope.$on('pipIdentityChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavHeaderImageChanged', onIdentityChanged);\r\n\r\n            $scope.onUserClick = onUserClick;\r\n\r\n            $timeout(function() {\r\n                $image = $element.find('.pip-nav-header-user-image')\r\n                onIdentityChanged();\r\n                $image.load(function ($event) {\r\n                    image = $($event.target);\r\n                    setImageMarginCSS(imageBlock, image);\r\n                });                \r\n            }, 10);\r\n\r\n            return;\r\n\r\n            //------------------------\r\n            function setImageMarginCSS(container, image) {\r\n                var cssParams = {},\r\n                    containerWidth = container.width ? container.width() : container.clientWidth, \r\n                    containerHeight = container.height ? container.height() : container.clientHeight, \r\n                    imageWidth = image[0].naturalWidth || image.width,\r\n                    imageHeight = image[0].naturalHeight || image.height,\r\n                    margin = 0;\r\n\r\n                if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                    margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                    cssParams['margin-left'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + containerHeight + 'px';\r\n                    cssParams['width'] = '' + imageWidth * containerHeight/imageHeight + 'px';\r\n                    cssParams['margin-top'] = '';\r\n                } else {\r\n                    margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                    cssParams['margin-top'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + imageHeight * containerWidth/imageWidth + 'px';\r\n                    cssParams['width'] = '' + containerWidth + 'px';\r\n                    cssParams['margin-left'] = '';\r\n                }\r\n\r\n                image.css(cssParams);\r\n            };\r\n                        \r\n            function onIdentityChanged() {\r\n                var url: string,\r\n                    config = pipNavHeader.config();\r\n\r\n                url = $scope.imageUrl ? $scope.imageUrl : config.defaultImageUrl;\r\n                if (url) {\r\n                    console.log('url', url);\r\n                    $image.attr('src', url);\r\n                } else {\r\n                    console.log('display none');\r\n                    imageBlock.css('display', 'none');\r\n                }\r\n                \r\n            }\r\n\r\n            function onUserClick() {\r\n                $rootScope.$broadcast('pipNavUserClicked');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavIcon',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavIcon.Service']);\r\n\r\n    thisModule.directive('pipNavIcon', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                type: '=pipType',\r\n                imageUrl: '=pipImageUrl'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'nav_icon/nav_icon.html';\r\n            },\r\n            controller: 'pipNavIconController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipNavIconController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, pipNavIcon) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-icon');\r\n\r\n            $scope.config = pipNavIcon.config();\r\n\r\n            $rootScope.$on('pipNavIconChanged', onNavIconChanged);\r\n\r\n            $scope.onNavIconClick = onNavIconClick;\r\n\r\n            function onNavIconChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onNavIconClick() {\r\n                var breadcrumb, backCallback;\r\n\r\n                if (_.isFunction($scope.config.callback)) {\r\n                    // Execute nav icon callback\r\n                    $scope.config.callback();\r\n                } else if ($scope.config.event) {\r\n                    $rootScope.$broadcast($scope.config.event);\r\n                } else if ($scope.config.type == 'menu') {\r\n                    $rootScope.$broadcast('pipOpenSideNav');\r\n                } else if ($scope.config.type == 'back') {\r\n                    $window.history.back();\r\n                } else {\r\n                    $rootScope.$broadcast('pipNavIconClicked');\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavIcon.Service', []);\r\n\r\n    thisModule.provider('pipNavIcon', function (): any {\r\n        var config = {\r\n            // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n            type: 'menu',\r\n            // Image url\r\n            imageUrl: null,\r\n            // Icon name\r\n            iconName: 'back',\r\n            // Handle nav icon click event\r\n            callback: null,\r\n            // Event name\r\n            event: null\r\n        };\r\n\r\n        this.config = getConfig;\r\n        this.clear = clear;\r\n        this.menu = setMenu;\r\n        this.back = setBack;\r\n        this.icon = setIcon;\r\n        this.image = setImage;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                hide: hide,\r\n                menu: showMenu,\r\n                back: showBack,\r\n                icon: showIcon,\r\n                image: showImage\r\n            };\r\n\r\n            // ----------------------\r\n            \r\n            function hide() {\r\n                clear();\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showMenu(callbackOrEvent) {\r\n                setMenu(callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showIcon(iconName, callbackOrEvent) {\r\n                setIcon(iconName, callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showBack(callbackOrEvent) {\r\n                setBack(callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showImage(imageUrl, callbackOrEvent) {\r\n                setImage(imageUrl, callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipNavIconChanged', config);\r\n            }\r\n\r\n        };\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show navigation icon\r\n        function clear() {\r\n            config.type = 'none';\r\n            config.callback = null;\r\n            config.event = null;\r\n        }\r\n\r\n        function setMenu(callbackOrEvent) {\r\n            config.type = 'menu';\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setIcon(iconName, callbackOrEvent) {\r\n            config.type = 'icon';\r\n            config.iconName = iconName;\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setBack(callbackOrEvent) {\r\n            config.type = 'back';\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setImage(imageUrl, callbackOrEvent) {\r\n            config.type = 'image';\r\n            config.imageUrl = imageUrl;\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavMenu', \r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavMenu.Service']);\r\n\r\n    // Main application navmenu directive\r\n    thisModule.directive('pipNavMenu', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               config: '=pipLinks'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'nav_menu/nav_menu.html',\r\n           controller: 'pipNavMenuController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipNavMenuController', \r\n        function ($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-menu');\r\n\r\n            $scope.config = $scope.config || pipNavMenu.get();\r\n\r\n            $rootScope.$on('pipNavMenuChanged', onConfigChanged);\r\n\r\n            $scope.itemVisible = itemVisible;\r\n            $scope.onLinkClick = onLinkClick;\r\n            $scope.isSectionEmpty = isSectionEmpty;\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n            \r\n            function itemVisible(item) {\r\n                return item && item.access && !item.access(item);\r\n            }\r\n\r\n            function isSectionEmpty(linkCollection) {\r\n                var result = true;\r\n                _.each(linkCollection, function(link){\r\n                    if (!itemVisible(link))\r\n                        result = false;\r\n                });\r\n                return result;\r\n            }\r\n\r\n            function onConfigChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onLinkClick(event, link) {\r\n                event.stopPropagation();\r\n\r\n                if (!link) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                if (link.href) {\r\n                    if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $window.location.href = link.href;\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.url) {\r\n                    if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $location.url(link.url);\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.state) {\r\n                    var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n                    \r\n                    if ($state != null && $state.current.name === link.state) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        if ($injector.has('$state')) {\r\n                            var $state = $injector.get('$state');\r\n                            $state.go(link.state, link.stateParams);\r\n                        }\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.event)\r\n                    $rootScope.$broadcast(link.event, link);\r\n\r\n                pipSideNav.close();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavHeader.Service', []);\r\n\r\n    thisModule.provider('pipNavHeader', function (): any {\r\n        var config = {\r\n            // Image url\r\n            defaultImageUrl: null,\r\n        };\r\n\r\n        this.config = getConfig;\r\n        this.clear = clear;\r\n        this.image = setImage;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                image: showImage\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function showImage(imageUrl) {\r\n                setImage(imageUrl);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipNavHeaderImageChanged', config);\r\n            }\r\n\r\n        };\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show navigation icon\r\n        function clear() {\r\n            config.defaultImageUrl = null;\r\n        }\r\n\r\n        function setImage(imageUrl) {\r\n            config.defaultImageUrl = imageUrl;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavMenu.Service', []);\r\n\r\n    thisModule.provider('pipNavMenu', function (): any {\r\n        var config = [],\r\n            collapsed = true,\r\n            sectionIcon: string;\r\n\r\n        this.sections = init;\r\n        this.sectionIcon = setOrGetIcon;\r\n        this.collapsed = setOrGetCollapsed;\r\n\r\n        this.$get = function ($rootScope, $mdSidenav) {\r\n            return {\r\n                get: getConfig,\r\n                set: setConfig,\r\n                setCounter: setCounter,\r\n                collapsed: setOrGetCollapsed,\r\n                icon: setOrGetIcon\r\n            };\r\n            \r\n            //---------------------\r\n\r\n            function getConfig() {\r\n\r\n                return config;  \r\n            }\r\n\r\n            function setConfig(newConfig) {\r\n                init(newConfig);\r\n                $rootScope.$broadcast('pipNavMenuChanged', config);\r\n\r\n                return config;  \r\n            }\r\n\r\n            function setCounter(linkTitle: string, counter: number) {\r\n                if (!linkTitle || !angular.isNumber(counter)) { return; }\r\n\r\n                let section: any, menuItem: any;\r\n\r\n                section = _.find(config, function(s) {\r\n                    let item = _.find(s.links, {title: linkTitle});\r\n                    if (item) {\r\n                        return item;\r\n                    } else { return false };\r\n                });\r\n\r\n                menuItem = _.find(section.links, {title: linkTitle});\r\n                menuItem.count = counter;\r\n                setConfig(config);\r\n            }\r\n        };\r\n\r\n        function setOrGetIcon(value: string) {\r\n            if (_.isString(value)) {\r\n                sectionIcon = value;\r\n            }\r\n\r\n            return sectionIcon;\r\n        }\r\n\r\n        function setOrGetCollapsed(value: boolean) {\r\n            if (value !== undefined) {\r\n                collapsed = value;\r\n            }\r\n\r\n            return collapsed;\r\n        }\r\n\r\n        function init(newConfig) {\r\n            if (_.isArray(newConfig)) {\r\n                config = newConfig;\r\n            }\r\n\r\n            return config;\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav.Part', ['pipSideNav.Service']);\r\n\r\n    // Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n    thisModule.directive('pipSidenavPart', function (ngIfDirective) {\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function($scope: any, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = function() { return $scope.visible };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: 'pipSideNavPartController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSideNavPartController',\r\n        function ($scope, $element, $attrs, $rootScope, pipSideNav) {\r\n            var partName = '' + $attrs.pipSidenavPart;\r\n            var partValue = null;\r\n\r\n            // Break part apart\r\n            var pos = partName.indexOf(':');\r\n            if (pos > 0) {\r\n                partValue = partName.substr(pos + 1);\r\n                partName = partName.substr(0, pos);\r\n            }\r\n\r\n            onSideNavChanged(null, pipSideNav.config())\r\n\r\n            $rootScope.$on('pipSideNavChanged', onSideNavChanged);\r\n\r\n            function onSideNavChanged(event, config) {\r\n                var parts = config.parts || {};\r\n                var currentPartValue = config[partName];\r\n                // Set visible variable to switch ngIf\r\n                $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav.Service', []);\r\n\r\n    thisModule.provider('pipSideNav', function (): any {\r\n        var config = {\r\n            // Theme to be applied to the header\r\n            theme: 'default',\r\n            // Parts of the sidenav\r\n            parts: []\r\n        },\r\n        sideNavId = 'pip-sidenav'; // sidenav identificatior\r\n\r\n        this.id = id; \r\n        this.theme = theme;\r\n        this.parts = initParts;\r\n\r\n        this.$get = function ($rootScope, $mdSidenav) {\r\n            $rootScope.$on('pipOpenSideNav', open);\r\n            $rootScope.$on('pipCloseSideNav', close);\r\n\r\n            return {\r\n                config: getConfig,\r\n                //theme: setTheme,\r\n                part: getOrSetPart,\r\n                parts: getOrSetParts,\r\n                id: getOrSetId,\r\n                open: open,\r\n                close: close,\r\n                toggle: toggle\r\n            };\r\n\r\n            //---------------------\r\n\r\n            function getConfig() {\r\n                return config;  \r\n            }\r\n                            \r\n            function getOrSetPart(name, value) {\r\n                if (!_.isString(name))\r\n                    throw new Error(\"Part name has to be a string\");\r\n\r\n                if (value != undefined) {\r\n                    if (config.parts[name] != value) {\r\n                        config.parts[name] = value;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts[name];\r\n            }\r\n\r\n            function getOrSetId(id) {\r\n                if (_.isString(id)) {\r\n                    if (sideNavId !== id) {\r\n                        sideNavId = id;\r\n                    }\r\n                }\r\n\r\n                return sideNavId;\r\n            }\r\n\r\n            function getOrSetParts(parts) {\r\n                if (_.isObject(parts)) {\r\n                    if (!_.isEqual(config.parts, parts)) {\r\n                        config.parts = parts;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts;\r\n            }\r\n                            \r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipSideNavChanged', config);\r\n            }\r\n\r\n            function open(event) {\r\n                console.log('open pip', sideNavId);\r\n                $mdSidenav(sideNavId).open();\r\n            }\r\n                 \r\n            function close(event) {\r\n                console.log('close pip', sideNavId);\r\n                $mdSidenav(sideNavId).close();   \r\n            }                \r\n\r\n            function toggle() {\r\n                console.log('toggle pip', sideNavId);\r\n                $mdSidenav(sideNavId).toggle();   \r\n                $rootScope.$broadcast('pipSideNavToggle', config);\r\n            }\r\n        };\r\n\r\n        function id(id) {\r\n            sideNavId = id || sideNavId;\r\n\r\n            return sideNavId;\r\n        }\r\n\r\n        function theme(theme) {\r\n            config.theme = theme || config.theme;\r\n\r\n            return config.theme;\r\n        }\r\n\r\n        function initParts(parts) {\r\n            if (_.isObject(parts)) {\r\n                config.parts = parts;\r\n            }\r\n\r\n            return config.parts;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSearchBar',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipSearch.Service']);\r\n\r\n    thisModule.run(function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate && pipTranslate.setTranslations) {\r\n            pipTranslate.setTranslations('en', {\r\n                'APPBAR_SEARCH': 'Search'\r\n            });\r\n\r\n            pipTranslate.setTranslations('ru', {\r\n                'APPBAR_SEARCH': 'Поиск'\r\n            });\r\n        }\r\n    });\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipSearchBar', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {},\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'search_bar/search_bar.html';\r\n            },\r\n            controller: 'pipSearchBarController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSearchBarController',\r\n        function ($scope, $element, $attrs, $rootScope, pipSearch) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-search-bar');\r\n\r\n            $scope.config = pipSearch.config();\r\n\r\n            $scope.searchEnabled = false;\r\n            $scope.search = {text: ''};\r\n\r\n            $rootScope.$on('pipSearchChanged', onSearchBarChanged);\r\n\r\n            $scope.onSearchEnable = onSearchEnable;\r\n            $scope.onSearchClick = onSearchClick;\r\n            $scope.onSearchClear = onSearchClear;\r\n            $scope.onSearchKeyDown = onSearchKeyDown;\r\n\r\n            function onSearchBarChanged(event, config) {\r\n                $scope.config = config;\r\n                $scope.searchEnabled = false;\r\n                $scope.search.text = '';\r\n            }\r\n\r\n            function focusSearchText() {\r\n                var element;\r\n\r\n                setTimeout(function () {\r\n                    element = $('.pip-search-text');\r\n                    if (element.length > 0) {\r\n                        element.focus();\r\n                    }\r\n                }, 0);\r\n            }\r\n\r\n            function onSearchEnable() {\r\n                $scope.search.text = $scope.config.criteria;\r\n                $scope.searchEnabled = true;\r\n                focusSearchText();\r\n            }\r\n\r\n            function onSearchClick() {\r\n                var searchText = $scope.search.text;\r\n\r\n                $scope.search.text = '';\r\n                $scope.searchEnabled = false;\r\n\r\n                if ($scope.config.callback) {\r\n                    $scope.config.callback(searchText);\r\n                } else {\r\n                    $rootScope.$broadcast('pipSearchBarSearchClicked', searchText);\r\n                }\r\n            }\r\n\r\n            function onSearchClear() {\r\n                if ($scope.search.text) {\r\n                    $scope.search.text = '';\r\n\r\n                    focusSearchText();\r\n                } else {\r\n                    $scope.searchEnabled = false;\r\n                    onSearchClick();\r\n                }\r\n            }\r\n\r\n            function onSearchKeyDown(event) {\r\n                // Enter pressed\r\n                if (event.keyCode === 13) {\r\n                    $scope.onSearchClick();\r\n\r\n                    return;\r\n                }\r\n                // ESC pressed\r\n                if (event.keyCode === 27) {\r\n                    $scope.searchEnabled = false;\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSearch.Service', []);\r\n\r\n    thisModule.provider('pipSearch', function (): any {\r\n        var config = {\r\n            // Search visible\r\n            visible: false,\r\n            // Search criteria\r\n            criteria: '',\r\n            // History for search autocomplete\r\n            history: [],\r\n            // Callback for search\r\n            callback: null,\r\n        };\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            $rootScope.$on('pipSearchOpen', open);\r\n            $rootScope.$on('pipSearchClose', close);\r\n\r\n            return {\r\n                config: getConfig,\r\n                set: setSearch,\r\n                clear: clearSearch,\r\n                criteria: updateCriteria,\r\n                history: updateHistory,\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function getConfig() {\r\n                return config;\r\n            }\r\n\r\n            function setSearch(callback, criteria, history) {\r\n                config.callback = callback;\r\n                config.criteria = criteria;\r\n                config.history = history;\r\n\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function clearSearch() {\r\n                config.callback = null;\r\n                config.criteria = null;\r\n\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function open(event) {\r\n                config.visible = true;\r\n                sendConfigEvent();                \r\n            }\r\n                 \r\n            function close(event) {\r\n                config.visible = false;\r\n                sendConfigEvent();                \r\n            }                \r\n\r\n            function toggle() {\r\n                config.visible = !config.visible;\r\n                sendConfigEvent();                \r\n            }                   \r\n\r\n            function updateCriteria(criteria) {\r\n                config.criteria = criteria;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function updateHistory(history) {\r\n                config.history = history;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipSearchChanged', config);\r\n            }\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipSideNav.Part', 'pipSideNav.Service']);\r\n\r\n    // Main application sidenav directive\r\n    thisModule.directive('pipSidenav', function() {\r\n       return {\r\n           restrict: 'E',\r\n           transclude: true,\r\n           scope: true,\r\n           templateUrl: 'sidenav/sidenav.html',\r\n           controller: 'pipSideNavController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipSideNavController', \r\n        function ($scope, $element, $rootScope, pipSideNav) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sidenav');\r\n            pipSideNav.id('pip-sidenav');\r\n\r\n            $rootScope.$on('pipNavIconClicked', onNavIconClick);\r\n            //$rootScope.$on('pipSideNavChanged', onConfigChanged);\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n\r\n            function onNavIconClick(event) {\r\n                pipSideNav.open();\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickyNavHeader', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipNavHeader.Service']);\r\n\r\n    // Main application nav-header directive\r\n    thisModule.directive('pipStickyNavHeader', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               title: '=pipTitle',\r\n               subtitle: '=pipSubTitle',\r\n               imageUrl: '=pipImage',\r\n               imageCss: '=pipImageCss'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'sticky_nav_header/sticky_nav_header.html',\r\n           controller: 'pipStickyNavHeaderController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipStickyNavHeaderController', \r\n        function ($scope, $element, $rootScope, $timeout, pipNavHeader) {\r\n           \r\n            var \r\n                image = null, \r\n                imageBlock = $element.find('.pip-sticky-nav-header-user'),\r\n                $image;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            $rootScope.$on('pipIdentityChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavHeaderImageChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavExpanded', resizeImage);\r\n            $scope.onUserClick = onUserClick;\r\n\r\n            $timeout(function() {\r\n                $image = $element.find('.pip-sticky-nav-header-user-image');\r\n                onIdentityChanged();\r\n                $image.load(function ($event) {\r\n                    image = $($event.target);\r\n                    setImageMarginCSS(imageBlock, image);\r\n                });                \r\n            }, 10);\r\n\r\n            return;\r\n\r\n            function resizeImage() {\r\n                if (!image) {\r\n                    image = $element.find('.pip-sticky-nav-header-user-image')\r\n                } \r\n                setImageMarginCSS(imageBlock, image);\r\n            }\r\n\r\n            //------------------------\r\n            function setImageMarginCSS(container, image) {\r\n                var cssParams = {},\r\n                    containerWidth = container.width ? container.width() : container.clientWidth, \r\n                    containerHeight = container.height ? container.height() : container.clientHeight, \r\n                    imageWidth = image[0].naturalWidth || image.width,\r\n                    imageHeight = image[0].naturalHeight || image.height,\r\n                    margin = 0;\r\n\r\n                if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                    margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                    cssParams['margin-left'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + containerHeight + 'px';\r\n                    cssParams['width'] = '' + imageWidth * containerHeight/imageHeight + 'px';\r\n                    cssParams['margin-top'] = '';\r\n                } else {\r\n                    margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                    cssParams['margin-top'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + imageHeight * containerWidth/imageWidth + 'px';\r\n                    cssParams['width'] = '' + containerWidth + 'px';\r\n                    cssParams['margin-left'] = '';\r\n                }\r\n\r\n                image.css(cssParams);\r\n            };\r\n                        \r\n            function onIdentityChanged() {\r\n                var url: string,\r\n                    config = pipNavHeader.config();\r\n\r\n                url = $scope.imageUrl ? $scope.imageUrl : config.defaultImageUrl;\r\n                if (url) {\r\n                    $image.attr('src', url);\r\n                } else {\r\n                    imageBlock.css('display', 'none');\r\n                }\r\n                \r\n            }\r\n\r\n            function onUserClick() {\r\n                $rootScope.$broadcast('pipNavUserClicked');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickyNavMenu', \r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavMenu.Service']);\r\n\r\n    // Main application navmenu directive\r\n    thisModule.directive('pipStickyNavMenu', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               config: '=pipLinks',\r\n               collapsed: '=pipCollapsed'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'sticky_nav_menu/sticky_nav_menu.html',\r\n           controller: 'pipStickyNavMenuController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipStickyNavMenuController', \r\n        function ($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\r\n\r\n            var pipSdeNavElement = $element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n            $scope.config = $scope.config || pipNavMenu.get();\r\n            setCollapsible();\r\n            $scope.expanded = true;\r\n            pipNavMenu.set($scope.config);\r\n            // todo set from services\r\n            $scope.defaultIicon = 'icons:folder';\r\n\r\n\r\n            $rootScope.$on('pipNavMenuChanged', onConfigChanged);\r\n\r\n            $scope.itemVisible = itemVisible;\r\n            $scope.onLinkClick = onLinkClick;\r\n            $scope.isSectionEmpty = isSectionEmpty;\r\n            $scope.onExpand = onExpand;\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n\r\n            function setCollapsible() {\r\n                var collapsed;\r\n                if (angular.isFunction($scope.collapsed)) {\r\n                    collapsed = $scope.collapsed();\r\n                } else {\r\n                    collapsed = $scope.collapsed !== false && $scope.collapsed !== 'false';\r\n                }\r\n\r\n                $scope.collapsibled = collapsed;\r\n                pipNavMenu.collapsed(collapsed);\r\n            }\r\n\r\n            function onExpand() {\r\n                $scope.expanded = !$scope.expanded;\r\n\r\n                if ($scope.expanded) {\r\n                    pipSdeNavElement.removeClass('pip-sticky-nav-small');\r\n                } else {\r\n                    pipSdeNavElement.addClass('pip-sticky-nav-small');\r\n                }\r\n                $rootScope.$broadcast('pipNavExpanded', $scope.expanded);\r\n            }\r\n            \r\n            function itemVisible(item) {\r\n                return item && item.access && !item.access(item);\r\n            }\r\n\r\n            function isSectionEmpty(linkCollection) {\r\n                var result = true;\r\n                _.each(linkCollection, function(link){\r\n                    if (!itemVisible(link))\r\n                        result = false;\r\n                });\r\n                return result;\r\n            }\r\n\r\n            function onConfigChanged(event, config) {\r\n                $scope.isCollapsed = pipNavMenu.collapsed();\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onLinkClick(event, link) {\r\n                event.stopPropagation();\r\n\r\n                if (!link) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                if (link.href) {\r\n                    if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $window.location.href = link.href;\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.url) {\r\n                    if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $location.url(link.url);\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.state) {\r\n                    var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n                    \r\n                    if ($state != null && $state.current.name === link.state) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        if ($injector.has('$state')) {\r\n                            var $state = $injector.get('$state');\r\n                            $state.go(link.state, link.stateParams);\r\n                        }\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.event)\r\n                    $rootScope.$broadcast(link.event, link);\r\n\r\n                pipSideNav.close();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickySideNav', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipSideNav.Part', 'pipSideNav.Service']);\r\n\r\n    // Main application sidenav directive\r\n    thisModule.directive('pipStickySidenav', function() {\r\n       return {\r\n           restrict: 'E',\r\n           transclude: true,\r\n           scope: true,\r\n           templateUrl: 'sticky_sidenav/sticky_sidenav.html',\r\n           controller: 'pipStickySideNavController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipStickySideNavController', \r\n        function ($scope, $element, $rootScope, pipSideNav, $mdMedia) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-sidenav');\r\n            $scope.$mdMedia = $mdMedia;\r\n\r\n            $rootScope.$on('pipNavIconClicked', onNavIconClick);\r\n            $rootScope.$on('pipSideNavToggle', onNavToggle);\r\n\r\n            pipSideNav.id('pip-sticky-sidenav');\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n\r\n            function onNavIconClick(event) {\r\n                pipSideNav.open();\r\n            }\r\n\r\n            function onNavToggle(event) {\r\n                console.log('onNavToggle')\r\n                $element.addClass('overflow-visible');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipTabs\", ['pipNav.Templates']);\r\n\r\n    thisModule.directive('pipTabs',\r\n        function () {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    tabs: '=pipTabs',\r\n                    showTabs: '&pipShowTabs',\r\n                    showTabsShadow: '&pipTabsShadow',\r\n                    activeIndex: '=pipActiveIndex',\r\n                    select: '=pipTabsSelect'\r\n                },\r\n                templateUrl: 'tabs/tabs.html',\r\n                controller:\r\n                    function ($scope, $element, $attrs, $mdMedia, localStorageService, $injector) {\r\n                        // Todo: Remove dependency on local storage or made it optional\r\n                        $scope.class = ($attrs.class || '') + ' md-' + localStorageService.get('theme') + '-theme';\r\n                        $scope.$mdMedia = $mdMedia;\r\n                        $scope.tabs = ($scope.tabs && _.isArray($scope.tabs)) ? $scope.tabs : [];\r\n\r\n                        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n                        if (pipTranslate) {\r\n                            if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\r\n                                pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\r\n                            } else {\r\n                                pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\r\n                            }\r\n                        }\r\n\r\n                        $scope.activeIndex = $scope.activeIndex || 0;\r\n                        $scope.activeTab = $scope.activeIndex;\r\n\r\n                        $scope.disabled = function () {\r\n                            if ($scope.ngDisabled) {\r\n                                return $scope.ngDisabled();\r\n                            }\r\n                        };\r\n\r\n                        $scope.tabDisabled = function (index) {\r\n                            return ($scope.disabled() && $scope.activeIndex != index);\r\n                        };\r\n\r\n                        $scope.onSelect = function (index) {\r\n                            if ($scope.disabled()) return;\r\n\r\n                            $scope.activeIndex = index;\r\n                            $scope.activeTab = $scope.activeIndex;\r\n                            if ($scope.select) {\r\n                                $scope.select($scope.tabs[$scope.activeIndex], $scope.activeIndex);\r\n                            }\r\n                        };\r\n\r\n                        $scope.showShadow = function () {\r\n                            if ($scope.showTabsShadow) {\r\n                                return $scope.showTabsShadow();\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        };\r\n\r\n                        $scope.show = function () {\r\n                            if ($scope.showTabs) {\r\n                                return $scope.showTabs();\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        };\r\n                    }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n"]}