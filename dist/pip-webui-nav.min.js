<<<<<<< HEAD
!function(){"use strict";angular.module("pipNav",["pipDropdown","pipTabs","pipAppBar","pipSideNav"])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/primary_actions.html",'<md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-primary-actions-action md-icon-button" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/secondary_actions.html",'<md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("appbar/appbar.html",'<md-toolbar md-theme-watch="true" ng-if="!$partialReset" ng-class="config.ngClasses" class="{{ config.cssClass }} color-primary-bg"><div class="md-toolbar-tools pip-toolbar-tools" ng-if="!searchEnabled"><md-button class="md-icon-button pip-icon-button" ng-if="config.navIconType != \'none\'" ng-class="{ \'pip-third-party\': getParty() && !getUser(\'owner\') }" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.navIconType==\'menu\' && (!getParty() || getUser(\'owner\'))" md-svg-icon="icons:menu"></md-icon><md-icon ng-if="config.navIconType==\'back\'" md-svg-icon="icons:arrow-left"></md-icon></md-button><div class="flex-var text-overflow"><img class="pip-appbar-logo" ng-click="onLogoState(config.logoState)" ng-if="config.titleType == \'logo\'" ng-src="{{config.titleLogo}}"><div ng-if="config.titleType == \'text\'" class="text-overflow pip-appbar-text"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span><span class="text-overflow">{{config.titleText | translate}}</span></div><div ng-if="config.titleType==\'breadcrumb\'"><div class="hide-xs text-overflow"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span><span class="pip-appbar-breadcrumb" ng-repeat-start="item in config.titleBreadcrumb" ng-click="onBreadcrumbClick(item)" ng-init="stepWidth = 100/(config.titleBreadcrumb.length + 1)" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right"></md-icon><span class="pip-title">{{config.titleText | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-appbar-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span> {{config.titleText | translate}}</span><md-icon class="m0 flex-none" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in config.titleBreadcrumb"><md-button ng-click="onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item><md-button><span class="text-grey">{{config.titleText | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div><div class="flex-fixed pip-appbar-actions layout-row" ng-class="{ \'pip-language-action\': config.actionsType==\'language\' }"><md-menu ng-if="config.actionsType==\'language\'" md-position-mode="target-right target"><span class="pip-appbar-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{language() | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="lang in config.languages"><md-button ng-click="onLanguageClick(lang)">{{lang | translate}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button m0" ng-if="config.searchVisible" ng-click="onSearchEnable()" aria-label="open search"><md-icon md-svg-icon="icons:search"></md-icon></md-button><div ng-if="config.actionsType==\'list\'"><md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryGlobalActions"><md-button class="pip-appbar-action md-icon-button m0" ng-class="{ \'pip-appbar-hide-sm\': action.hideSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-appbar-badge color-badge-bg" ng-if="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3" ng-show="action.menu"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-appbar-action md-icon-button m0" ng-class="{ \'pip-appbar-hide-sm\': action.hideSmall, \'pip-appbar-show-sm\': action.showSmall,}" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-appbar-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button m0" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu></div></div></div><div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("breadcrumb/breadcrumb.html",'<div><div class="hide-xs text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span><span class="pip-breadcrumb-item" ng-repeat-start="item in config.titleBreadcrumb" ng-click="onBreadcrumbClick(item)" ng-init="stepWidth = 100/(config.titleBreadcrumb.length + 1)" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right"></md-icon><span class="pip-title">{{config.text | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span> {{config.text | translate}}</span><md-icon class="pip-triangle-down" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in config.items"><md-button ng-click="onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item><md-button><span class="text-grey">{{config.text | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("dropdown/dropdown.html",'<md-toolbar class="md-subhead color-primary-bg {{class}}" ng-if="show()" ng-class="{\'md-whiteframe-3dp\': $mdMedia(\'xs\')}"><div class="pip-divider"></div><md-select ng-model="selectedIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="DROPDOWN" md-ink-ripple="" md-on-close="onSelect(selectedIndex)"><md-option ng-repeat="action in actions" value="{{ ::$index }}" ng-selected="activeIndex == $index ? true : false">{{ (action.title || action.name) | translate }}</md-option></md-select></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("language_picker/language_picker.html",'<md-menu md-position-mode="target-right target"><span class="pip-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{language() | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="lang in config.languages"><md-button ng-click="onLanguageClick(lang)">{{lang | translate}}</md-button></md-menu-item></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_header/nav_header.html",'<md-toolbar md-theme="{{ $theme }}" ng-hide="user"><md-button class="pip-nav-header-user md-icon-button" ng-click="onUserClick()" aria-label="current user"></md-button><div class="pip-nav-header-user-text"><a class="pip-nav-header-user-pri cursor-pointer" ng-click="onUserClick()">{{ getUser(\'fullName\') }}</a><div class="pip-nav-header-user-sec">{{ getUser(\'details\') | translate }}</div></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_icon/nav_icon.html",'<md-button class="md-icon-button pip-nav-icon" ng-if="config.type != \'none\'" ng-class="config.class" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.type==\'menu\'" md-svg-icon="icons:menu"></md-icon><md-icon ng-if="config.type==\'back\'" md-svg-icon="icons:arrow-left"></md-icon></md-button>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_menu/nav_menu.html",'<md-list><div class="pip-section" ng-repeat="section in config" ng-hide="section.access && !section.access(section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("search_bar/search_bar.html",'<div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("sidenav/sidenav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg" md-component-id="pip-sidenav" ng-if="!$partialReset" pip-focused=""><md-toolbar class="pip-sidenav-header" ng-class="{\'pip-sidenav-owner\': getUser(\'owner\')}" md-theme="{{ $theme|| getUser(\'theme\') || config.theme }}" ng-hide="!getParty() && !primaryPartyAvatar && !secondaryPartyAvatar"><md-button class="pip-sidenav-party md-icon-button" ng-click="onPartyClick()" aria-label="current party"></md-button><md-button class="pip-sidenav-user md-icon-button" ng-click="onUserClick()" ng-hide="getUser(\'owner\')" aria-label="current user"></md-button><div class="pip-sidenav-party-text"><a class="pip-sidenav-party-pri cursor-pointer" ng-click="onPartyClick()">{{ partyName || getParty(\'name\')}}</a><div class="pip-sidenav-party-sec" ng-show="getConnection() && !getUser(\'owner\')">{{getConnection(\'relation\') | translate}} <span ng-show="getConnectionDate()">{{::\'SIDENAV_SINCE\' | translate}} {{getConnectionDate()}}</span></div></div></md-toolbar><md-list><div class="pip-section" ng-repeat="section in config.sections" ng-hide="section.access && !section.access(getParty(), getUser(), section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(getParty(), getUser(), link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list></md-sidenav>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("tabs/tabs.html",'<md-toolbar class="pip-nav {{ class }}" ng-class="{\'pip-visible\': show(), \'pip-shadow\': showShadow()}"><md-tabs ng-if="$mdMedia(\'gt-xs\')" md-selected="activeTab" ng-class="{\'disabled\': disabled()}" md-stretch-tabs="true" md-dynamic-height="true"><md-tab ng-repeat="tab in tabs track by $index" ng-disabled="tabDisabled($index)" md-on-select="onSelect($index)"><md-tab-label>{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-tab-label></md-tab></md-tabs><md-content class="md-subhead color-primary-bg md-hue-1" ng-if="$mdMedia(\'xs\')"><div class="pip-divider position-top m0"></div><md-select ng-model="activeIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="SELECT" md-ink-ripple="" md-on-close="onSelect(activeIndex)"><md-option ng-repeat="tab in tabs track by $index" value="{{ ::$index }}">{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-option></md-select></md-content></md-toolbar>')}])}(),function(n,e){"use strict";var i=n.module("pipActions.Service",[]);i.provider("pipActions",function(){function n(n,e){a.primaryGlobalActions=n||[],a.secondaryGlobalActions=e||[]}function i(n){a.primaryGlobalActions=n||[]}function t(n){a.secondaryGlobalActions=n||[]}var a={primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.globalActions=n,this.globalPrimaryActions=i,this.globalSecondaryActions=t,this.$get=["$rootScope",function(n){function i(){return a}function t(){a.primaryLocalActions=[],a.secondaryLocalActions=[],r()}function o(n,e){a.primaryLocalActions=n||[],a.secondaryLocalActions=e||[],r()}function c(n,i){e.each(a.primaryGlobalActions,function(e){e.name===n&&(e.count=i)}),e.each(a.primaryLocalActions,function(e){e.name===n&&(e.count=i)}),r()}function r(){n.$broadcast("pipActionsChanged",a)}return{config:i,showLocalActions:o,hideLocalActions:t,updateActionCount:c}}]})}(window.angular,window._),function(n,e,i){"use strict";var t=n.module("pipPrimaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);t.directive("pipPrimaryActions",function(){return{restrict:"E",scope:{localActions:"=pipLocalActions",globalActions:"=pipGlobalActions"},replace:!1,templateUrl:function(n,e){return"actions/primary_actions.html"},controller:"pipPrimaryActionsController"}}),t.controller("pipPrimaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,e,i,t,a,o,c,r){function s(e,i){n.config=i}function l(n){return n.access&&!n.access(n)}function d(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function p(e,i){if(e&&!e.divider){if(e.close&&(n.originatorEv=null),e.menu)return void i(n.originatorEv);if(e.callback)return void e.callback();if(e.href)return void(a.location.href=e.href);if(e.url)return void o.url(e.url);if(e.state){if(c.has("pipState")){c.get("pipState");r.go(e.state,e.stateParams)}else if(c.has("$state")){var r=c.get("$state");r.go(e.state,e.stateParams)}}else e.event?t.$broadcast(e.event):t.$broadcast("pipActionClicked",e.name)}}e.addClass("pip-primary-actions"),n.config=r.config(),n.localActions&&(r.showLocalActions(),n.config.primaryLocalActions=n.localActions[0]),n.globalActions&&(r.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0]),t.$on("pipActionsChanged",s),n.actionHidden=l,n.actionCount=d,n.onActionClick=p}])}(window.angular,window._,window.jQuery),function(n,e,i){"use strict";var t=n.module("pipSecondaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);t.directive("pipSecondaryActions",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,e){return"actions/secondary_actions.html"},controller:"pipSecondaryActionsController"}}),t.controller("pipSecondaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,i,t,a,o,c,r,s){function l(e,i){n.originatorEv=i,e(i)}function d(e,i){n.config=i}function p(n){return n.access&&!n.access(n)}function u(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function m(n){var i=0;return e.each(n,function(n){p(n)||i++}),i}function g(){return m(n.config.secondaryGlobalActions)>0||m(n.config.secondaryLocalActions)>0}function v(){return m(n.config.secondaryGlobalActions)>0&&m(n.config.secondaryLocalActions)>0}function f(e,i){if(e&&!e.divider){if(e.close&&(n.originatorEv=null),e.menu)return void i(n.originatorEv);if(e.callback)return void e.callback();if(e.href)return void(o.location.href=e.href);if(e.url)return void c.url(e.url);if(e.state){if(r.has("pipState")){r.get("pipState");t.go(e.state,e.stateParams)}else if(r.has("$state")){var t=r.get("$state");t.go(e.state,e.stateParams)}}else e.event?a.$broadcast(e.event):a.$broadcast("pipActionClicked",e.name)}}i.addClass("pip-secondary-actions"),n.config=s.config(),n.localActions&&(pipSecondaryActions.showLocalActions(),n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(pipSecondaryActions.showLocalActions(),n.config.secondaryGlobalActions=n.globalActions[0]),a.$on("pipActionsChanged",d),n.actionHidden=p,n.actionCount=u,n.secondaryActionsVisible=g,n.secondaryDividerVisible=v,n.onActionClick=f,n.openMenu=l}])}(window.angular,window._,window.jQuery),function(n,e,i){"use strict";var t=n.module("pipBreadcrumb",["ngMaterial","pipNav.Translate","pipNav.Templates","pipBreadcrumb.Service"]);t.directive("pipBreadcrumb",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,e){return"breadcrumb/breadcrumb.html"},controller:"pipBreadcrumbController"}}),t.controller("pipBreadcrumbController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","pipBreadcrumb",function(n,i,t,a,o,c,r,s){function l(e,i){n.config=i}function d(){var i,t;i=n.config.items,e.isArray(i)&&i.length>0?(t=i[i.length-1].click,e.isFunction(t)?t():o.history.back()):o.history.back()}function p(n){e.isFunction(n.click)&&n.click(n)}i.addClass("pip-breadcrumb"),n.config=s.config(),a.$on("pipBreadcrumbChanged",l),a.$on("pipBreadcrumbBack",d),n.onBreadcrumbClick=p}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipBreadcrumb.Service",[]);i.provider("pipBreadcrumb",function(){var n={text:null,items:null,criteria:""};this.$get=["$rootScope",function(i){function t(){return n}function a(e){n.text=e,n.items=null,r()}function o(i,t){e.isArray(i)&&(t=i,i=t[t.length-1].title,t.splice(t.length-1,1)),n.text=i,n.items=t,r()}function c(e){n.criteria=e,r()}function r(){i.$broadcast("pipBreadcrumbChanged",n)}return{config:t,text:a,path:o,items:o,criteria:c}}]})}(window.angular,window._),function(n,e,i){"use strict";var t=n.module("pipAppBar",["ngMaterial","pipNav.Translate","pipNav.Templates","pipAppBar.Service"]);t.directive("pipAppbar",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,e){return"appbar/appbar.html"},controller:"pipAppBarController"}}),t.controller("pipAppBarController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","$injector","pipAppBar",function(n,t,a,o,c,r,s,l,d){function p(n){n&&r.go(n)}function u(e,i){n.originatorEv=i,e(i)}function m(n){if(o.$party)return n?o.$party[n]:o.$party}function g(n){if(o.$user)return n?o.$user[n]:o.$user}function v(e,i){n.config=i,n.searchEnabled=!1,n.search.text=""}function f(){return E?E.use():null}function b(n){return n.access&&!n.access(o.$party,o.$user,n)}function h(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function y(n){var i=0;return e.each(n,function(n){b(n)||i++}),i}function w(){return y(n.config.secondaryGlobalActions)>0||y(n.config.secondaryLocalActions)>0}function A(){return y(n.config.secondaryGlobalActions)>0&&y(n.config.secondaryLocalActions)>0}function $(){var i,t;return e.isFunction(n.config.navIconCallback)?void n.config.navIconCallback():"back"!==n.config.navIconType?void o.$broadcast("pipAppBarNavIconClicked"):void("breadcrumb"===n.config.titleType?(i=n.config.titleBreadcrumb,e.isArray(i)&&i.length>0?(t=i[i.length-1].click,e.isFunction(t)?t():c.history.back()):c.history.back()):c.history.back())}function k(n){e.isFunction(n.click)&&n.click(n)}function C(n){setTimeout(function(){E.use(n),o.$apply()},0)}function S(n){var e,i={};if(null===n)return null;for(e in n)n.hasOwnProperty(e)&&(":party_id"===n[e]?i[e]=o.$party?o.$party.id:null:":user_id"===n[e]?i[e]=o.$user?o.$user.id:null:i[e]=n[e]);return i}function T(n){var e;return null===n?null:(e=n.replace(":party_id",o.$party?o.$party.id:""),e=e.replace(":user_id",o.user?o.$user.id:""))}function N(){var n;setTimeout(function(){n=i(".pip-search-text"),n.length>0&&n.focus()},0)}function x(e,i){if(e&&!e.divider)return e.close&&(n.originatorEv=null),e.menu?void i(n.originatorEv):e.callback?void e.callback():e.href?void(c.location.href=T(e.href)):e.url?void s.url(T(e.url)):e.state?void r.go(e.state,S(e.stateParams)):void(e.event?o.$broadcast(e.event):o.$broadcast("pipAppBarActionClicked",e.name))}function L(){n.search.text=n.config.searchCriteria,n.searchEnabled=!0,N()}function I(){var e=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.searchCallback?n.config.searchCallback(e):o.$broadcast("pipAppBarSearchClicked",e)}function P(){n.search.text?(n.search.text="",N()):(n.searchEnabled=!1,I())}function _(e){return 13===e.keyCode?void n.onSearchClick():void(27===e.keyCode&&(n.searchEnabled=!1))}var E=l.has("pipTranslate")?l.get("pipTranslate"):null;E&&(E.translations("en",{APPBAR_SEARCH:"Search"}),E.translations("ru",{APPBAR_SEARCH:"Поиск"})),n.title&&d.showTitleText(n.title),n.showMenu&&d.showMenuNavIcon(),t.addClass("pip-appbar"),n.$emit("pipResizeWindow"),n.config=d.config(),n.localActions&&(d.showLocalActions(),n.config.primaryLocalActions=n.localActions[0],n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(d.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0],n.config.secondaryGlobalActions=n.globalActions[0]),n.searchEnabled=!1,n.search={text:""},o.$on("pipAppBarChanged",v),n.language=f,n.actionHidden=b,n.actionCount=h,n.secondaryActionsVisible=w,n.secondaryDividerVisible=A,n.onNavIconClick=$,n.onBreadcrumbClick=k,n.onLanguageClick=C,n.onActionClick=x,n.onSearchEnable=L,n.onSearchClick=I,n.onSearchClear=P,n.onSearchKeyDown=_,n.onLogoState=p,n.getParty=m,n.getUser=g,n.openMenu=u}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipAppBar.Service",[]);i.provider("pipAppBar",function(){function n(n){return n&&(r.appTitleText=n),r.appTitleText}function i(n){return n&&(r.appTitleLogo=n),r.appTitleLogo}function t(n){return r.theme=n||r.theme,r.theme}function a(n,e){r.primaryGlobalActions=n||[],r.secondaryGlobalActions=e||[]}function o(n){r.primaryGlobalActions=n||[]}function c(n){r.secondaryGlobalActions=n||[]}var r={appTitleText:null,appTitleLogo:"images/piplife_logo.svg",theme:"blue",cssClass:"",ngClasses:{},logoState:null,navIconType:"none",navIconCallback:!1,titleType:"none",titleLogo:null,titleText:null,titleBreadcrumb:null,actionsType:"none",languages:["en","ru"],searchVisible:!1,searchCriteria:"",searchHistory:[],searchCallback:null,primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.appTitleText=n,this.appTitleLogo=i,this.theme=t,this.globalActions=a,this.globalPrimaryActions=o,this.globalSecondaryActions=c,this.$get=["$rootScope",function(n){function i(n){return r.logoState=n,r.logoState}function t(){return r.logoState}function a(){return r}function o(n){return void 0!=n&&(r.cssClass=n,x()),r.cssClass}function c(){r.ngClasses["pip-shadow"]=!1,r.ngClasses["pip-shadow-sm"]=!0,r.ngClasses["pip-shadow-xs"]=!1,x()}function s(){r.ngClasses["pip-shadow"]=!1,r.ngClasses["pip-shadow-sm"]=!0,r.ngClasses["pip-shadow-xs"]=!0,x()}function l(){r.ngClasses["pip-shadow"]=!0,x()}function d(){r.ngClasses["pip-shadow"]=!1,r.ngClasses["pip-shadow-sm"]=!1,r.ngClasses["pip-shadow-xs"]=!1,x()}function p(){r.navIconType="none",r.navIconCallback=null,x()}function u(n){r.navIconType="menu",r.navIconCallback=n,x()}function m(n){r.navIconType="back",r.navIconCallback=n,x()}function g(){r.titleType="none",r.titleLogo=null,r.titleText=null,r.titleBreadcrumb=null,x()}function v(n){r.titleType="logo",r.titleLogo=n,r.titleText=null,r.titleBreadcrumb=null,x()}function f(n){r.titleType="text",r.titleLogo=null,r.titleText=n,r.titleBreadcrumb=null,x()}function b(n,i){e.isArray(n)&&(i=n,n=i[i.length-1].title,i.splice(i.length-1,1)),r.titleType="breadcrumb",r.titleLogo=null,r.titleText=n,r.titleBreadcrumb=i,i.length>0?(r.navIconType="none"===r.navIconType?"none":r.navIconType,r.navIconCallback=i[i.length-1]):(r.navIconType="menu",r.navIconCallback=null),x()}function h(){v(r.appTitleLogo)}function y(){f(r.appTitleText)}function w(){r.actionsType="none",r.primaryLocalActions=[],r.secondaryLocalActions=[],x()}function A(n){r.actionsType="language",r.languages=n||r.languages,x()}function $(n,e){r.actionsType="list",r.primaryLocalActions=n||[],r.secondaryLocalActions=e||[],x()}function k(n,i){e.each(r.primaryGlobalActions,function(e){e.name===n&&(e.count=i)}),e.each(r.primaryLocalActions,function(e){e.name===n&&(e.count=i)}),x()}function C(n,e,i){r.searchVisible=!0,r.searchCallback=n,r.searchCriteria=e,r.searchHistory=i,x()}function S(){r.searchVisible=!1,r.searchCallback=null,r.searchCriteria=null,x()}function T(n){r.searchCriteria=n,x()}function N(n){r.searchHistory=n,x()}function x(){n.$broadcast("pipAppBarChanged",r)}return{config:a,cssClass:o,logoState:t,setLogoState:i,hideNavIcon:p,showMenuNavIcon:u,showBackNavIcon:m,showAppTitleLogo:h,showAppTitleText:y,showTitleLogo:v,showTitleText:f,showTitleBreadcrumb:b,hideTitle:g,showLanguage:A,showLocalActions:$,hideLocalActions:w,updateActionCount:k,showSearch:C,hideSearch:S,updateSearchCriteria:T,updateSearchHistory:N,showShadow:l,showShadowSm:c,showShadowSmXs:s,hideShadow:d}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipNav.Translate",[]);n.filter("translate",["$injector",function(n){var e=n.has("pipTranslate")?n.get("pipTranslate"):null;return function(n){return e?e.translate(n)||n:n}}])}(),function(){"use strict";var n=angular.module("pipDropdown",["pipNav.Templates"]);n.directive("pipDropdown",["$mdMedia",function(n){return{restrict:"E",scope:{ngDisabled:"&",actions:"=pipActions",showDropdown:"&pipShow",activeIndex:"=pipActiveIndex",select:"=pipDropdownSelect"},templateUrl:"dropdown/dropdown.html",controller:["$scope","$element","$attrs","localStorageService",function(e,i,t,a){e.class=(t.class||"")+" md-"+a.get("theme")+"-theme",e.$mdMedia=n,e.actions=e.actions&&_.isArray(e.actions)?e.actions:[],e.activeIndex=e.activeIndex||0,e.disabled=function(){return!!e.ngDisabled()&&e.ngDisabled()},e.onSelect=function(n){e.activeIndex=n,e.select&&e.select(e.actions[n],e.activeIndex)},e.show=function(){
return!e.showDropdown()||e.showDropdown()}}]}}])}(),function(n,e,i){"use strict";var t=n.module("pipLanguagePicker",["ngMaterial","pipNav.Translate","pipNav.Templates"]);t.directive("pipLanguagePicker",function(){return{restrict:"E",scope:{languages:"=languages"},replace:!1,templateUrl:function(n,e){return"language_picker/language_picker.html"},controller:"pipLanguagePickerController"}}),t.controller("pipLanguagePickerController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","$injector",function(n,e,i,t,a,o,c,r){function s(){return d?d.use():null}function l(n){d&&setTimeout(function(){d.use(n),t.$apply()},0)}var d=r.has("pipTranslate")?r.get("pipTranslate"):null;n.title&&pipLanguagePicker.showTitleText(n.title),n.showMenu&&pipLanguagePicker.showMenuNavIcon(),e.addClass("pip-language-picker"),n.language=s,n.onLanguageClick=l}])}(window.angular,window._,window.jQuery),function(){"use strict";var n=angular.module("pipNavHeader",["ngMaterial","pipNav.Templates"]);n.directive("pipNavHeader",function(){return{restrict:"EA",scope:{user:"=pipUser"},replace:!1,templateUrl:"nav_header/nav_header.html",controller:"pipNavHeaderController"}}),n.controller("pipNavHeaderController",["$scope","$element","$rootScope",function(n,e,i){function t(e){var i=n.user||n.identity||{};return e?i[e]:i}function a(e,i){n.identity=i}function o(){i.$broadcast("pipNavUserClicked")}e.addClass("pip-nav-header"),i.$on("pipIdentityChanged",a),n.getUser=t,n.onUserClick=o}])}(),function(n,e,i){"use strict";var t=n.module("pipNavIcon",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavIcon.Service"]);t.directive("pipNavIcon",function(){return{restrict:"E",scope:{type:"=pipType",imageUrl:"=pipImageUrl"},replace:!1,templateUrl:function(n,e){return"nav_icon/nav_icon.html"},controller:"pipNavIconController"}}),t.controller("pipNavIconController",["$scope","$element","$attrs","$rootScope","$window","pipNavIcon",function(n,i,t,a,o,c){function r(e,i){n.config=i}function s(){e.isFunction(n.config.callback)?n.config.callback():n.config.event?a.$broadcast(n.config.event):"back"==n.config.type?o.history.back():a.$broadcast("pipNavIconClicked")}i.addClass("pip-nav-icon"),n.config=c.config(),a.$on("pipNavIconChanged",r),n.onNavIconClick=s}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipNavIcon.Service",[]);i.provider("pipNavIcon",function(){var n={type:"none",imageUrl:null,callback:null,event:null};this.$get=["$rootScope",function(i){function t(){n.type="none",n.callback=null,n.event=null,r()}function a(i){n.type="menu",n.callback=null,n.event=null,e.isFunction(i)&&(n.callback=i),e.isString(i)&&(n.event=i),r()}function o(i){n.type="back",n.callback=null,n.event=null,e.isFunction(i)&&(n.callback=i),e.isString(i)&&(n.event=i),r()}function c(i,t){n.type="image",n.imageUrl=i,n.callback=null,n.event=null,e.isFunction(t)&&(n.callback=t),e.isString(t)&&(n.event=t),r()}function r(){i.$broadcast("pipNavIconChanged",n)}return{hide:t,showMenu:a,showBack:o,showImage:c}}]})}(window.angular,window._),function(n,e,i){"use strict";var t=n.module("pipSearchBar",["ngMaterial","pipNav.Translate","pipNav.Templates","pipSearch.Service"]);t.run(["$injector",function(n){var e=n.has("pipTranslate")?n.get("pipTranslate"):null;e&&(pipTranslateProvider.translations("en",{APPBAR_SEARCH:"Search"}),pipTranslateProvider.translations("ru",{APPBAR_SEARCH:"Поиск"}))}]),t.directive("pipSearchBar",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,e){return"search_bar/search_bar.html"},controller:"pipSearchBarController"}}),t.controller("pipSearchBarController",["$scope","$element","$attrs","$rootScope","pipSearch",function(n,e,t,a,o){function c(e,i){n.config=i,n.searchEnabled=!1,n.search.text=""}function r(){var n;setTimeout(function(){n=i(".pip-search-text"),n.length>0&&n.focus()},0)}function s(){n.search.text=n.config.criteria,n.searchEnabled=!0,r()}function l(){var e=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.callback?n.config.callback(e):a.$broadcast("pipSearchBarSearchClicked",e)}function d(){n.search.text?(n.search.text="",r()):(n.searchEnabled=!1,l())}function p(e){return 13===e.keyCode?void n.onSearchClick():void(27===e.keyCode&&(n.searchEnabled=!1))}e.addClass("pip-search-bar"),n.config=o.config(),n.searchEnabled=!1,n.search={text:""},a.$on("pipSearchChanged",c),n.onSearchEnable=s,n.onSearchClick=l,n.onSearchClear=d,n.onSearchKeyDown=p}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipSearch.Service",[]);i.provider("pipSearch",function(){var n={visible:!1,criteria:"",history:[],callback:null};this.$get=["$rootScope",function(e){function i(e,i,t){n.callback=e,n.criteria=i,n.history=t,s()}function t(){n.callback=null,n.criteria=null,s()}function a(e){n.visible=!0,s()}function o(e){n.visible=!1,s()}function c(e){n.criteria=e,s()}function r(e){n.history=e,s()}function s(){e.$broadcast("pipSearchChanged",n)}return e.$on("pipSearchOpen",a),e.$on("pipSearchClose",o),{set:i,clear:t,criteria:c,history:r}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipNavMenu",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavMenu.Service"]);n.directive("pipNavMenu",function(){return{restrict:"EA",scope:{config:"=pipLinks"},replace:!1,templateUrl:"nav_menu/nav_menu.html",controller:"pipNavMenuController"}}),n.controller("pipNavMenuController",["$scope","$element","$rootScope","$window","$location","$timeout","$injector","pipSideNav","pipNavMenu",function(n,e,i,t,a,o,c,r,s){function l(n){return n&&n.access&&!n.access(n)}function d(n){var e=!0;return _.each(n,function(n){l(n)||(e=!1)}),e}function p(e,i){n.config=i}function u(n,e){return n.stopPropagation(),e?e.href?e.href.split("?")[0]===t.location.href.split("?")[0]?void r.close():(r.close(),void o(function(){t.location.href=e.href},300)):e.url?e.url.split(/[\s\/?]+/)[1]===a.url().split(/[\s\/?]+/)[1]?void r.close():(r.close(),void o(function(){a.url(e.url)},300)):e.state?$state.current.name===e.state?void r.close():(r.close(),void o(function(){if(c.has("pipState")){c.get("pipState");n.go(e.state,e.stateParams)}else if(c.has("$state")){var n=c.get("$state");n.go(e.state,e.stateParams)}},300)):(e.event&&i.$broadcast(e.event,e),void r.close()):void r.close()}e.addClass("pip-nav-menu"),n.config=s.config(),i.$on("pipNavMenuChanged",p),n.itemVisible=l,n.onLinkClick=u,n.isSectionEmpty=d}])}(),function(){"use strict";var n=angular.module("pipNavMenu.Service",[]);n.provider("pipNavMenu",function(){function n(n){return _.isArray(n)&&(e=n),e}var e=[];this.sections=n,this.$get=["$rootScope","$mdSidenav",function(i,t){function a(){return e}function o(t){return n(t),i.$broadcast("pipNavMenuChanged",e),e}return{get:a,set:o}}]})}(),function(n,e){"use strict";var i=n.module("pipSideNav",["ngMaterial","pipTranslate","pipNav.Templates","pipSideNav.Service"]);i.config(["pipTranslateProvider",function(n){n.translations("en",{SIDENAV_SINCE:"since"}),n.translations("ru",{SIDENAV_SINCE:"с"})}]),i.directive("pipSidenav",function(){return{restrict:"EA",scope:{primaryPartyAvatar:"=pipPrimaryAvatar",secondaryPartyAvatar:"=pipSecondaryAvatar",partyName:"=pipName"},replace:!1,templateUrl:"sidenav/sidenav.html",controller:"pipSideNavController"}}),i.controller("pipSideNavController",["$scope","$element","$state","$rootScope","$window","$location","$timeout","pipState","pipTranslate","pipSideNav",function(n,i,t,a,o,c,r,s,l,d){function p(n){if(a.$party)return n?a.$party[n]:a.$party}function u(n){if(a.$user)return n?a.$user[n]:a.$user}function m(n){if(a.$connection)return n?a.$connection[n]:a.$connection}function g(n){var i,t=m("relation_since");return i=e(t).format("MMMM-DD-YYYY")}function v(n){return n&&n.access&&!n.access(a.$party,a.$user,n)}function f(n){var e=!0;return _.each(n,function(n){v(n)||(e=!1)}),e}function b(n){d.open()}function h(e,i){n.config=i}function y(){a.$broadcast("pipSideNavUserClicked"),d.close()}function w(){a.$broadcast("pipSideNavPartyClicked"),d.close()}function A(n){if(null==n)return null;var e={};for(var i in n)n.hasOwnProperty(i)&&(":party_id"==n[i]?e[i]=a.$party?a.$party.id:null:":user_id"==n[i]?e[i]=a.$user?a.$user.id:null:e[i]=n[i]);return e}function $(n){if(null==n)return null;var e=n.replace(":party_id",a.$party?a.$party.id:"");return e=e.replace(":user_id",a.$user?a.$user.id:"")}function k(n,e){return n.stopPropagation(),e?e.href?e.href.split("?")[0]===o.location.href.split("?")[0]?void d.close():(d.close(),void r(function(){o.location.href=$(e.href)},300)):e.url?e.url.split(/[\s\/?]+/)[1]===c.url().split(/[\s\/?]+/)[1]?void d.close():(d.close(),void r(function(){c.url($(e.url))},300)):e.state?t.current.name===e.state?void d.close():(d.close(),void r(function(){s.go(e.state,A(e.stateParams))},300)):(e.event&&a.$broadcast("pipSideNavLinkClicked",e.event),void d.close()):void d.close()}i.addClass("pip-sidenav"),n.config=d.config(),n.$avatarReset=!1,a.$on("pipAppBarNavIconClicked",b),a.$on("pipSideNavChanged",h),n.itemVisible=v,n.onUserClick=y,n.onPartyClick=w,n.onLinkClick=k,n.isSectionEmpty=f,n.getParty=p,n.getUser=u,n.getConnection=m,n.getConnectionDate=g}])}(window.angular,window.moment),function(){"use strict";var n=angular.module("pipSideNav.Service",["pipAssert","pipDebug"]);n.provider("pipSideNav",["pipAssertProvider","pipDebugProvider",function(n,e){function i(n){return o.theme=n||o.theme,o.theme}function t(e){n.isArray(e,"pipSideNavProvider.sections or pipSideNav.sections: sections should be an array"),_.each(e,function(e,i){e.access&&n.isFunction(e.access,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" access should be a function"),e.links&&(n.isArray(e.links,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" links should be an array"),_.each(e.links,function(t){t.access&&n.isFunction(t.access,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" in link with title "+t.title+" access should be a function")}))})}function a(n){return e.enabled()&&t(n),_.isArray(n)&&(o.sections=n),o.sections}var o={theme:"blue",sections:[]};this.theme=i,this.sections=a,this.$get=["$rootScope","$mdSidenav",function(n,e){function t(){return o}function c(n){return i(n),s(),o.theme}function r(n){return a(n),s(),o.sections}function s(){n.$broadcast("pipSideNavChanged",o)}function l(n){e("pip-sidenav").open()}function d(n){e("pip-sidenav").close()}function p(){e("pip-sidenav").toggle()}return n.$on("pipSideNavOpen",l),n.$on("pipSideNavClose",d),{config:t,theme:c,sections:r,open:l,close:d,toggle:p}}]}])}(),function(){"use strict";var n=angular.module("pipTabs",["pipNav.Templates"]);n.directive("pipTabs",["$mdMedia","pipAssert",function(n,e){return{restrict:"E",scope:{ngDisabled:"&",tabs:"=pipTabs",showTabs:"&pipShowTabs",showTabsShadow:"&pipTabsShadow",activeIndex:"=pipActiveIndex",select:"=pipTabsSelect"},templateUrl:"tabs/tabs.html",controller:["$scope","$element","$attrs","$mdMedia","localStorageService","$injector",function(n,i,t,a,o,c){n.class=(t.class||"")+" md-"+o.get("theme")+"-theme",e.isArray(n.tabs,"pipTabs: pipTabs attribute should take an array"),n.$mdMedia=a,n.tabs=n.tabs&&_.isArray(n.tabs)?n.tabs:[];var r=c.has("pipTranslate")?c.get("pipTranslate"):null;r&&(n.tabs.length>0&&n.tabs[0].title?r.translateObjects(n.tabs,"title","nameLocal"):r.translateObjects(n.tabs,"name","nameLocal")),n.activeIndex=n.activeIndex||0,n.activeTab=n.activeIndex,n.disabled=function(){if(n.ngDisabled)return n.ngDisabled()},n.tabDisabled=function(e){return n.disabled()&&n.activeIndex!=e},n.onSelect=function(e){n.disabled()||(n.activeIndex=e,n.activeTab=n.activeIndex,n.select&&n.select(n.tabs[n.activeIndex],n.activeIndex))},n.showShadow=function(){return!!n.showTabsShadow&&n.showTabsShadow()},n.show=function(){return!n.showTabs||n.showTabs()}}]}}])}();
=======
!function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/primary_actions.html",'<md-menu md-position-mode="target-right target" class="pip-primary-actions" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-primary-actions-action md-icon-button" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode="target-right target" class="pip-primary-actions" ng-repeat="action in config.primaryGlobalActions"><md-button class="pip-primary-actions-action md-icon-button" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/secondary_actions.html",'<md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("appbar/appbar.html",'<md-toolbar md-theme-watch="true" ng-if="!$partialReset" ng-class="config.ngClasses" class="{{ config.cssClass }}" ng-transclude=""></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("breadcrumb/breadcrumb.html",'<div><div class="hide-xs text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span><span class="pip-breadcrumb-item" ng-repeat-start="item in config.items" ng-click="onBreadcrumbClick(item)" ng-init="stepWidth = 100/(config.items.length + 1)" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right"></md-icon><span class="pip-title">{{config.text | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span> {{config.text | translate}}</span><md-icon class="pip-triangle-down" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in config.items"><md-button ng-click="onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item><md-button><span class="text-grey">{{config.text | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("dropdown/dropdown.html",'<md-toolbar class="md-subhead color-primary-bg {{class}}" ng-if="show()" ng-class="{\'md-whiteframe-3dp\': $mdMedia(\'xs\')}"><div class="pip-divider"></div><md-select ng-model="selectedIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="DROPDOWN" md-ink-ripple="" md-on-close="onSelect(selectedIndex)"><md-option ng-repeat="action in actions" value="{{ ::$index }}" ng-selected="activeIndex == $index ? true : false">{{ (action.title || action.name) | translate }}</md-option></md-select></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("language_picker/language_picker.html",'<md-menu md-position-mode="target-right target"><span class="pip-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{language() | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="lang in languages"><md-button ng-click="onLanguageClick(lang)">{{lang | translate}}</md-button></md-menu-item></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_header/nav_header.html",'<md-toolbar md-theme="{{ $theme }}" ng-hide="!user"><md-button class="pip-nav-header-user md-icon-button" ng-click="onUserClick()" aria-label="current user"></md-button><div class="pip-nav-header-user-text"><a class="pip-nav-header-user-pri cursor-pointer" ng-click="onUserClick()">{{ getUser(\'fullName\') }}</a><div class="pip-nav-header-user-sec">{{ getUser(\'details\') | translate }}</div></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_icon/nav_icon.html",'<md-button class="md-icon-button pip-nav-icon" ng-if="config.type != \'none\'" ng-class="config.class" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.type==\'menu\'" md-svg-icon="icons:menu"></md-icon><img ng-src="{{config.imageUrl}}" ng-if="config.type==\'image\'" height="24" width="24"><md-icon ng-if="config.type==\'back\'" md-svg-icon="icons:arrow-left"></md-icon><md-icon ng-if="config.type==\'icon\'" md-svg-icon="icons:{{config.iconName}}"></md-icon></md-button>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_menu/nav_menu.html",'<md-list><div class="pip-section" ng-repeat="section in config" ng-hide="section.access && !section.access(section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("search_bar/search_bar.html",'<div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div><div class="md-toolbar-tools layout-row layout-align-end-center" ng-if="!searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchEnable()"><md-icon md-svg-icon="icons:search"></md-icon></md-button></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("sidenav/sidenav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg" md-component-id="pip-sidenav" ng-if="!$partialReset" pip-focused="" ng-transclude=""></md-sidenav>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("tabs/tabs.html",'<md-toolbar class="pip-nav {{ class }}" ng-class="{\'pip-visible\': show(), \'pip-shadow\': showShadow()}"><md-tabs ng-if="$mdMedia(\'gt-xs\')" md-selected="activeTab" ng-class="{\'disabled\': disabled()}" md-stretch-tabs="true" md-dynamic-height="true"><md-tab ng-repeat="tab in tabs track by $index" ng-disabled="tabDisabled($index)" md-on-select="onSelect($index)"><md-tab-label>{{::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-tab-label></md-tab></md-tabs><div class="md-subhead pip-tabs-content color-primary-bg" ng-if="$mdMedia(\'xs\')"><div class="pip-divider position-top m0"></div><md-select ng-model="activeIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="SELECT" md-ink-ripple="" md-on-close="onSelect(activeIndex)"><md-option ng-repeat="tab in tabs track by $index" value="{{ ::$index }}">{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-option></md-select></div></md-toolbar>')}])}(),function(){"use strict";angular.module("pipNav",["pipDropdown","pipTabs","pipAppBar","pipSideNav","pipNavIcon","pipNavMenu","pipBreadcrumb","pipPrimaryActions","pipSecondaryActions"])}(),function(){"use strict";var n=angular.module("pipActions.Service",[]);n.provider("pipActions",function(){function n(n,t){i.primaryGlobalActions=n||[],i.secondaryGlobalActions=t||[]}function t(n){i.primaryGlobalActions=n||[]}function e(n){i.secondaryGlobalActions=n||[]}var i={primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.globalActions=n,this.globalPrimaryActions=t,this.globalSecondaryActions=e,this.$get=["$rootScope",function(n){function t(){return i}function e(){i.primaryLocalActions=[],i.secondaryLocalActions=[],c()}function a(n,t){i.primaryLocalActions=n||[],i.secondaryLocalActions=t||[],c()}function o(n,t){_.each(i.primaryGlobalActions,function(e){e.name===n&&(e.count=t)}),_.each(i.primaryLocalActions,function(e){e.name===n&&(e.count=t)}),c()}function c(){n.$broadcast("pipActionsChanged",i)}return{config:t,show:a,hide:e,count:o}}]})}(),function(){"use strict";var n=angular.module("pipPrimaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);n.directive("pipPrimaryActions",function(){return{restrict:"E",scope:{localActions:"=pipLocalActions",globalActions:"=pipGlobalActions"},replace:!1,templateUrl:function(n,t){return"actions/primary_actions.html"},controller:"pipPrimaryActionsController"}}),n.controller("pipPrimaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,t,e,i,a,o,c,r){function s(t,e){n.config=e}function l(n){return n.access&&!n.access(n)}function p(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function d(t,e){if(t&&!t.divider){if(t.close&&(n.originatorEv=null),t.menu)return void e(n.originatorEv);if(t.callback)return void t.callback();if(t.href)return void(a.location.href=t.href);if(t.url)return void o.url(t.url);if(t.state){if(c.has("$state")){var r=c.get("$state");r.go(t.state,t.stateParams)}}else t.event?i.$broadcast(t.event):i.$broadcast("pipActionClicked",t.name)}}t.addClass("pip-primary-actions"),n.config=r.config(),n.localActions&&(r.showLocalActions(),n.config.primaryLocalActions=n.localActions[0]),n.globalActions&&(r.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0]),i.$on("pipActionsChanged",s),n.actionHidden=l,n.actionCount=p,n.onActionClick=d}])}(),function(){"use strict";var n=angular.module("pipSecondaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);n.directive("pipSecondaryActions",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,t){return"actions/secondary_actions.html"},controller:"pipSecondaryActionsController"}}),n.controller("pipSecondaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,t,e,i,a,o,c,r){function s(t,e){n.originatorEv=e,t(e)}function l(t,e){n.config=e}function p(n){return n.access&&!n.access(n)}function d(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function u(n){var t=0;return _.each(n,function(n){p(n)||t++}),t}function m(){return u(n.config.secondaryGlobalActions)>0||u(n.config.secondaryLocalActions)>0}function g(){return u(n.config.secondaryGlobalActions)>0&&u(n.config.secondaryLocalActions)>0}function f(t,e){if(t&&!t.divider){if(t.close&&(n.originatorEv=null),t.menu)return void e(n.originatorEv);if(t.callback)return void t.callback();if(t.href)return void(a.location.href=t.href);if(t.url)return void o.url(t.url);if(t.state){if(c.has("$state")){var r=c.get("$state");r.go(t.state,t.stateParams)}}else t.event?i.$broadcast(t.event):i.$broadcast("pipActionClicked",t.name)}}t.addClass("pip-secondary-actions"),n.config=r.config(),n.localActions&&(r.showLocalActions(),n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(r.showLocalActions(),n.config.secondaryGlobalActions=n.globalActions[0]),i.$on("pipActionsChanged",l),n.actionHidden=p,n.actionCount=d,n.secondaryActionsVisible=m,n.secondaryDividerVisible=g,n.onActionClick=f,n.openMenu=s}])}(),function(){"use strict";var n=angular.module("pipAppBar",["ngMaterial","pipNav.Templates","pipAppBar.Service"]);n.directive("pipAppbar",function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:"appbar/appbar.html",controller:"pipAppBarController"}}),n.controller("pipAppBarController",["$scope","$element","$rootScope","pipAppBar",function(n,t,e,i){function a(t,e){n.config=e}t.addClass("pip-appbar"),t.addClass("color-primary-bg"),n.$emit("pipResizeWindow"),n.config=i.config(),e.$on("pipAppBarChanged",a)}])}(),function(){"use strict";var n=angular.module("pipAppBar.Part",["pipAppBar.Service"]);n.directive("pipAppbarPart",["ngIfDirective",function(n){var t=n[0];return{transclude:t.transclude,priority:t.priority,terminal:t.terminal,restrict:t.restrict,scope:!0,link:function(n,e,i){i.ngIf=function(){return n.visible},t.link.apply(t,arguments)},controller:"pipAppBarPartController"}}]),n.controller("pipAppBarPartController",["$scope","$element","$attrs","$rootScope","pipAppBar",function(n,t,e,i,a){function o(t,e){var i=e.parts||{},a=i[c],o=!!(r?a==r:a);o!=n.visible&&(n.visible=o)}var c=""+e.pipAppbarPart,r=null,s=c.indexOf(":");s>0&&(r=c.substr(s+1),c=c.substr(0,s)),o(null,a.config()),i.$on("pipAppBarChanged",o)}])}(),function(){"use strict";var n=angular.module("pipAppBar.Service",[]);n.provider("pipAppBar",function(){function n(n){return e.theme=n||e.theme,e.theme}function t(n){return _.isObject(n)&&(e.parts=n),e.parts}var e={theme:"default",cssClass:"",ngClasses:{},parts:{}};this.theme=n,this.parts=t,this.$get=["$rootScope",function(n){function t(){return e}function i(n){return void 0!=n&&(e.cssClass=n,p()),e.cssClass}function a(){e.ngClasses["pip-shadow"]=!1,e.ngClasses["pip-shadow-sm"]=!0,e.ngClasses["pip-shadow-xs"]=!1,p()}function o(){e.ngClasses["pip-shadow"]=!1,e.ngClasses["pip-shadow-sm"]=!0,e.ngClasses["pip-shadow-xs"]=!0,p()}function c(){e.ngClasses["pip-shadow"]=!0,p()}function r(){e.ngClasses["pip-shadow"]=!1,e.ngClasses["pip-shadow-sm"]=!1,e.ngClasses["pip-shadow-xs"]=!1,p()}function s(n,t){if(!_.isString(n))throw new Error("Part name has to be a string");return void 0!=t&&e.parts[n]!=t&&(e.parts[n]=t,p()),e.parts[n]}function l(n){return _.isObject(n)&&(_.isEqual(e.parts,n)||(e.parts=n,p())),e.parts}function p(){n.$broadcast("pipAppBarChanged",e)}return{config:t,cssClass:i,part:s,parts:l,showShadow:c,showShadowSm:a,showShadowSmXs:o,hideShadow:r}}]})}();var pip;!function(n){var t;!function(n){"use strict";function t(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,t){return"breadcrumb/breadcrumb.html"},controller:e,controllerAs:"vm"}}var e=function(){function n(n,t,e,i,a,o,c){"ngInject";this._rootScope=i,this._window=a,t.addClass("pip-breadcrumb"),this.config=c.config(),i.$on("pipBreadcrumbChanged",this.onBreadcrumbChanged),i.$on("pipBreadcrumbBack",this.onBreadcrumbBack)}return n.$inject=["$scope","$element","$attrs","$rootScope","$window","$state","pipBreadcrumb"],n.prototype.onBreadcrumbChanged=function(n,t){this.config=t},n.prototype.onBreadcrumbBack=function(){var n=this.config.items;if(_.isArray(n)&&n.length>0){var t=n[n.length-1].click;_.isFunction(t)?t():this._window.history.back()}else this._window.history.back()},n.prototype.onBreadcrumbClick=function(n){_.isFunction(n.click)&&n.click(n)},n.prototype.onSearchOpen=function(){this._rootScope.$broadcast("pipSearchOpen")},n}();angular.module("pipBreadcrumb",["ngMaterial","pipNav.Translate","pipNav.Templates","pipBreadcrumb.Service"]).directive("pipBreadcrumb",t)}(t=n.nav||(n.nav={}))}(pip||(pip={}));var pip;!function(n){var t;!function(t){"use strict";t.BreadcrumbChangedEvent="pipBreadcrumbChanged";var e=function(){function n(){}return n}();t.BreadcrumbItem=e;var i=function(){function n(){}return n}();t.BreadcrumbConfig=i;var a=function(){function t(n,t){this._config=n,this._rootScope=t}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._config.text},set:function(n){this._config.text=n,this._config.items=null,this.sendEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._config.items},set:function(n){this._config.text=null,this._config.items=n,this.sendEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"criteria",{get:function(){return this._config.criteria},set:function(n){this._config.criteria=n,this.sendEvent()},enumerable:!0,configurable:!0}),t.prototype.sendEvent=function(){this._rootScope.$broadcast(n.nav.BreadcrumbChangedEvent,this._config)},t}(),o=function(){function n(){this._config={text:null,items:null,criteria:null}}return Object.defineProperty(n.prototype,"text",{get:function(){return this._config.text},set:function(n){this._config.text=n},enumerable:!0,configurable:!0}),n.prototype.$get=["$rootScope",function(n){"ngInject";return null==this._service&&(this._service=new a(this._config,n)),this._service}],n}();angular.module("pipBreadcrumb.Service",[]).provider("pipBreadcrumb",o)}(t=n.nav||(n.nav={}))}(pip=exports.pip||(exports.pip={})),function(){"use strict";var n=angular.module("pipNav.Translate",[]);n.filter("translate",["$injector",function(n){var t=n.has("pipTranslate")?n.get("pipTranslate"):null;return function(n){return t?t.translate(n)||n:n}}])}(),function(){"use strict";var n=angular.module("pipDropdown",["pipNav.Templates"]);n.directive("pipDropdown",["$mdMedia",function(n){return{restrict:"E",scope:{ngDisabled:"&",actions:"=pipActions",showDropdown:"&pipShow",activeIndex:"=pipActiveIndex",select:"=pipDropdownSelect"},templateUrl:"dropdown/dropdown.html",controller:["$scope","$element","$attrs","localStorageService",function(t,e,i,a){t.class=(i.class||"")+" md-"+a.get("theme")+"-theme",t.$mdMedia=n,t.actions=t.actions&&_.isArray(t.actions)?t.actions:[],t.activeIndex=t.activeIndex||0,t.disabled=function(){return!!t.ngDisabled()&&t.ngDisabled()},t.onSelect=function(n){t.activeIndex=n,t.select&&t.select(t.actions[n],t.activeIndex)},t.show=function(){return!t.showDropdown()||t.showDropdown()}}]}}])}(),function(){"use strict";var n=angular.module("pipLanguagePicker",["ngMaterial","pipNav.Translate","pipNav.Templates"]);n.directive("pipLanguagePicker",function(){return{restrict:"E",scope:{languages:"=languages"},replace:!1,templateUrl:function(n,t){return"language_picker/language_picker.html"},controller:"pipLanguagePickerController"}}),n.controller("pipLanguagePickerController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","$injector",function(n,t,e,i,a,o,c,r){function s(t){n.languages=t.length>0?t:["en","ru"]}function l(){return d?d.use():null}function p(n){d&&setTimeout(function(){d.use(n),i.$apply()},0)}var d=r.has("pipTranslate")?r.get("pipTranslate"):null;t.addClass("pip-language-picker"),n.language=l,n.onLanguageClick=p,i.$on("pipSetLanguages",s)}])}(),function(){"use strict";var n=angular.module("pipNavHeader",["ngMaterial","pipNav.Templates"]);n.directive("pipNavHeader",function(){return{restrict:"EA",scope:{user:"=pipUser"},replace:!1,templateUrl:"nav_header/nav_header.html",controller:"pipNavHeaderController"}}),n.controller("pipNavHeaderController",["$scope","$element","$rootScope",function(n,t,e){function i(t){var e=n.user||n.identity||{};return t?e[t]:e}function a(t,e){n.identity=e}function o(){e.$broadcast("pipNavUserClicked")}t.addClass("pip-nav-header"),e.$on("pipIdentityChanged",a),n.getUser=i,n.onUserClick=o}])}(),function(){"use strict";var n=angular.module("pipNavIcon",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavIcon.Service"]);n.directive("pipNavIcon",function(){return{restrict:"E",scope:{type:"=pipType",imageUrl:"=pipImageUrl"},replace:!1,templateUrl:function(n,t){return"nav_icon/nav_icon.html"},controller:"pipNavIconController"}}),n.controller("pipNavIconController",["$scope","$element","$attrs","$rootScope","$window","pipNavIcon",function(n,t,e,i,a,o){function c(t,e){n.config=e}function r(){_.isFunction(n.config.callback)?n.config.callback():n.config.event?i.$broadcast(n.config.event):"menu"==n.config.type?i.$broadcast("pipOpenSideNav"):"back"==n.config.type?a.history.back():i.$broadcast("pipNavIconClicked")}t.addClass("pip-nav-icon"),n.config=o.config(),i.$on("pipNavIconChanged",c),n.onNavIconClick=r}])}(),function(){"use strict";var n=angular.module("pipNavIcon.Service",[]);n.provider("pipNavIcon",function(){function n(){return c}function t(){c.type="none",c.callback=null,c.event=null}function e(n){c.type="menu",c.callback=null,c.event=null,_.isFunction(n)&&(c.callback=n),_.isString(n)&&(c.event=n)}function i(n,t){c.type="icon",c.iconName=n,c.callback=null,c.event=null,_.isFunction(t)&&(c.callback=t),_.isString(t)&&(c.event=t)}function a(n){c.type="back",c.callback=null,c.event=null,_.isFunction(n)&&(c.callback=n),_.isString(n)&&(c.event=n)}function o(n,t){c.type="image",c.imageUrl=n,c.callback=null,c.event=null,_.isFunction(t)&&(c.callback=t),_.isString(t)&&(c.event=t)}var c={type:"menu",imageUrl:null,iconName:"back",callback:null,event:null};this.config=n,this.clear=t,this.menu=e,this.back=a,this.icon=i,this.image=o,this.$get=["$rootScope",function(r){function s(){t(),m()}function l(n){e(n),m()}function p(n,t){i(n,t),m()}function d(n){a(n),m()}function u(n,t){o(n,t),m()}function m(){r.$broadcast("pipNavIconChanged",c)}return{config:n,hide:s,menu:l,back:d,icon:p,image:u}}]})}(),function(){"use strict";var n=angular.module("pipNavMenu",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavMenu.Service"]);n.directive("pipNavMenu",function(){return{restrict:"EA",scope:{config:"=pipLinks"},replace:!1,templateUrl:"nav_menu/nav_menu.html",controller:"pipNavMenuController"}}),n.controller("pipNavMenuController",["$scope","$element","$rootScope","$window","$location","$timeout","$injector","pipSideNav","pipNavMenu",function(n,t,e,i,a,o,c,r,s){function l(n){return n&&n.access&&!n.access(n)}function p(n){var t=!0;return _.each(n,function(n){l(n)||(t=!1)}),t}function d(t,e){n.config=e}function u(n,t){if(n.stopPropagation(),!t)return void r.close();if(t.href)return t.href.split("?")[0]===i.location.href.split("?")[0]?void r.close():(r.close(),void o(function(){i.location.href=t.href},300));if(t.url)return t.url.split(/[\s\/?]+/)[1]===a.url().split(/[\s\/?]+/)[1]?void r.close():(r.close(),void o(function(){a.url(t.url)},300));if(t.state){var s=c.has("$state")?c.get("$state"):null;return null!=s&&s.current.name===t.state?void r.close():(r.close(),void o(function(){if(c.has("$state")){var n=c.get("$state");n.go(t.state,t.stateParams)}},300))}t.event&&e.$broadcast(t.event,t),r.close()}t.addClass("pip-nav-menu"),n.config=n.config||s.get(),e.$on("pipNavMenuChanged",d),n.itemVisible=l,n.onLinkClick=u,n.isSectionEmpty=p}])}(),function(){"use strict";var n=angular.module("pipNavMenu.Service",[]);n.provider("pipNavMenu",function(){function n(n){return _.isArray(n)&&(t=n),t}var t=[];this.sections=n,this.$get=["$rootScope","$mdSidenav",function(e,i){function a(){return t}function o(i){return n(i),e.$broadcast("pipNavMenuChanged",t),t}return{get:a,set:o}}]})}(),function(){"use strict";var n=angular.module("pipSearchBar",["ngMaterial","pipNav.Translate","pipNav.Templates","pipSearch.Service"]);n.run(["$injector",function(n){var t=n.has("pipTranslate")?n.get("pipTranslate"):null;t&&(t.translations("en",{APPBAR_SEARCH:"Search"}),t.translations("ru",{APPBAR_SEARCH:"Поиск"}))}]),n.directive("pipSearchBar",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,t){return"search_bar/search_bar.html"},controller:"pipSearchBarController"}}),n.controller("pipSearchBarController",["$scope","$element","$attrs","$rootScope","pipSearch",function(n,t,e,i,a){function o(t,e){n.config=e,n.searchEnabled=!1,n.search.text=""}function c(){var n;setTimeout(function(){n=$(".pip-search-text"),n.length>0&&n.focus()},0)}function r(){n.search.text=n.config.criteria,n.searchEnabled=!0,c()}function s(){var t=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.callback?n.config.callback(t):i.$broadcast("pipSearchBarSearchClicked",t)}function l(){n.search.text?(n.search.text="",c()):(n.searchEnabled=!1,s())}function p(t){return 13===t.keyCode?void n.onSearchClick():void(27===t.keyCode&&(n.searchEnabled=!1))}t.addClass("pip-search-bar"),n.config=a.config(),n.searchEnabled=!1,n.search={text:""},i.$on("pipSearchChanged",o),n.onSearchEnable=r,n.onSearchClick=s,n.onSearchClear=l,n.onSearchKeyDown=p}])}(),function(){"use strict";var n=angular.module("pipSearch.Service",[]);n.provider("pipSearch",function(){var n={visible:!1,criteria:"",history:[],callback:null};this.$get=["$rootScope",function(t){function e(){return n}function i(t,e,i){n.callback=t,n.criteria=e,n.history=i,l()}function a(){n.callback=null,n.criteria=null,l()}function o(t){n.visible=!0,l()}function c(t){n.visible=!1,l()}function r(t){n.criteria=t,l()}function s(t){n.history=t,l()}function l(){t.$broadcast("pipSearchChanged",n)}return t.$on("pipSearchOpen",o),t.$on("pipSearchClose",c),{config:e,set:i,clear:a,criteria:r,history:s}}]})}(),function(){"use strict";var n=angular.module("pipSideNav",["ngMaterial","pipNav.Templates","pipSideNav.Service"]);n.directive("pipSidenav",function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:"sidenav/sidenav.html",controller:"pipSideNavController"}}),n.controller("pipSideNavController",["$scope","$element","$rootScope","pipSideNav",function(n,t,e,i){function a(n){i.open()}t.addClass("pip-sidenav"),e.$on("pipNavIconClicked",a)}])}(),function(){"use strict";var n=angular.module("pipSideNav.Part",["pipSideNav.Service"]);n.directive("pipSidenavPart",["ngIfDirective",function(n){var t=n[0];return{transclude:t.transclude,priority:t.priority,terminal:t.terminal,restrict:t.restrict,scope:!0,link:function(n,e,i){i.ngIf=function(){return n.visible},t.link.apply(t)},controller:"pipSideNavPartController"}}]),n.controller("pipSideNavPartController",["$scope","$element","$attrs","$rootScope","pipSideNav",function(n,t,e,i,a){function o(t,e){var i=(e.parts||{},e[c]);n.visible=r?i==r:i}var c=""+e.pipSidenavPart,r=null,s=c.indexOf(":");s>0&&(r=c.substr(s+1),c=c.substr(0,s)),o(null,a.config()),i.$on("pipSideNavChanged",o)}])}(),function(){"use strict";var n=angular.module("pipSideNav.Service",[]);n.provider("pipSideNav",function(){function n(n){return e.theme=n||e.theme,e.theme}function t(n){return _.isObject(n)&&(e.parts=n),e.parts}var e={theme:"default",parts:[]};this.theme=n,this.parts=t,this.$get=["$rootScope","$mdSidenav",function(n,t){function i(){return e}function a(n,t){if(!_.isString(n))throw new Error("Part name has to be a string");return void 0!=t&&e.parts[n]!=t&&(e.parts[n]=t,c()),e.parts[n]}function o(n){return _.isObject(n)&&(_.isEqual(e.parts,n)||(e.parts=n,c())),e.parts}function c(){n.$broadcast("pipSideNavChanged",e)}function r(n){t("pip-sidenav").open()}function s(n){t("pip-sidenav").close()}function l(){t("pip-sidenav").toggle()}return n.$on("pipOpenSideNav",r),n.$on("pipCloseSideNav",s),{config:i,part:a,parts:o,open:r,close:s,toggle:l}}]})}(),function(){"use strict";var n=angular.module("pipTabs",["pipNav.Templates"]);n.directive("pipTabs",["$mdMedia","pipAssert",function(n,t){return{restrict:"E",scope:{ngDisabled:"&",tabs:"=pipTabs",showTabs:"&pipShowTabs",showTabsShadow:"&pipTabsShadow",activeIndex:"=pipActiveIndex",select:"=pipTabsSelect"},templateUrl:"tabs/tabs.html",controller:["$scope","$element","$attrs","$mdMedia","localStorageService","$injector",function(n,t,e,i,a,o){n.class=(e.class||"")+" md-"+a.get("theme")+"-theme",n.$mdMedia=i,n.tabs=n.tabs&&_.isArray(n.tabs)?n.tabs:[];var c=o.has("pipTranslate")?o.get("pipTranslate"):null;c&&(n.tabs.length>0&&n.tabs[0].title?c.translateObjects(n.tabs,"title","nameLocal"):c.translateObjects(n.tabs,"name","nameLocal")),n.activeIndex=n.activeIndex||0,n.activeTab=n.activeIndex,n.disabled=function(){if(n.ngDisabled)return n.ngDisabled()},n.tabDisabled=function(t){return n.disabled()&&n.activeIndex!=t},n.onSelect=function(t){n.disabled()||(n.activeIndex=t,n.activeTab=n.activeIndex,n.select&&n.select(n.tabs[n.activeIndex],n.activeIndex))},n.showShadow=function(){return!!n.showTabsShadow&&n.showTabsShadow()},n.show=function(){return!n.showTabs||n.showTabs()}}]}}])}();
>>>>>>> c1b0e404b0830e03ed6d5bae8c07543d0afda673
